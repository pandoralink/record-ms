import{r as c,R as m,u as b,j as l}from"./index-CD25rNzz.js";import{m as G,w as P}from"./with-default-props-c_1x5czA.js";import{B as M}from"./button-Dg1Z9WYR.js";import{S as j,C as H}from"./space-u_dLV2IY.js";import{N as K}from"./nav-bar-DBMm_pxg.js";import{u as L}from"./index-Cz3-AyHe.js";import{u as B}from"./use-props-value-DeCXLii1.js";import{u as V}from"./useInputHandleKeyDown-BqZQUFIB.js";import"./index-DZVwJEoC.js";import"./validate-DFCfhizZ.js";import"./isBrowser-CU3-RGUT.js";var v;(function(e){e[e.HIGH_SURROGATE_START=55296]="HIGH_SURROGATE_START",e[e.HIGH_SURROGATE_END=56319]="HIGH_SURROGATE_END",e[e.LOW_SURROGATE_START=56320]="LOW_SURROGATE_START",e[e.REGIONAL_INDICATOR_START=127462]="REGIONAL_INDICATOR_START",e[e.REGIONAL_INDICATOR_END=127487]="REGIONAL_INDICATOR_END",e[e.FITZPATRICK_MODIFIER_START=127995]="FITZPATRICK_MODIFIER_START",e[e.FITZPATRICK_MODIFIER_END=127999]="FITZPATRICK_MODIFIER_END",e[e.VARIATION_MODIFIER_START=65024]="VARIATION_MODIFIER_START",e[e.VARIATION_MODIFIER_END=65039]="VARIATION_MODIFIER_END",e[e.DIACRITICAL_MARKS_START=8400]="DIACRITICAL_MARKS_START",e[e.DIACRITICAL_MARKS_END=8447]="DIACRITICAL_MARKS_END",e[e.SUBDIVISION_INDICATOR_START=127988]="SUBDIVISION_INDICATOR_START",e[e.TAGS_START=917504]="TAGS_START",e[e.TAGS_END=917631]="TAGS_END",e[e.ZWJ=8205]="ZWJ"})(v||(v={}));const k=Object.freeze([776,2359,2367,2984,3007,3021,3633,3635,3648,3657,4352,4449,4520]);var O;function h(e){if(typeof e!="string")throw new TypeError("string cannot be undefined or null");const r=[];let t=0,n=0;for(;t<e.length;)n+=U(t+n,e),Q(e[t+n])&&n++,$(e[t+n])&&n++,J(e[t+n])&&n++,X(e[t+n])?n++:(r.push(e.substring(t,t+n)),t+=n,n=0);return r}function U(e,r){const t=r[e];if(!Z(t)||e===r.length-1)return 1;const n=t+r[e+1];let u=r.substring(e+2,e+5);return D(n)&&D(u)?4:z(n)&&q(u)?r.slice(e).indexOf(String.fromCodePoint(917631))+2:W(u)?4:2}function Z(e){return e&&f(e[0].charCodeAt(0),55296,56319)}function D(e){return f(x(e),127462,127487)}function z(e){return f(x(e),127988,127988)}function W(e){return f(x(e),127995,127999)}function $(e){return typeof e=="string"&&f(e.charCodeAt(0),65024,65039)}function J(e){return typeof e=="string"&&f(e.charCodeAt(0),8400,8447)}function q(e){const r=e.codePointAt(0);return typeof e=="string"&&typeof r=="number"&&f(r,917504,917631)}function Q(e){return typeof e=="string"&&k.includes(e.charCodeAt(0))}function X(e){return typeof e=="string"&&e.charCodeAt(0)===8205}function x(e){return(e.charCodeAt(0)-55296<<10)+(e.charCodeAt(1)-56320)+65536}function f(e,r,t){return e>=r&&e<=t}(function(e){e[e.unit_1=1]="unit_1",e[e.unit_2=2]="unit_2",e[e.unit_4=4]="unit_4"})(O||(O={}));const I="adm-text-area",N={rows:2,showCount:!1,autoSize:!1,defaultValue:""},w=c.forwardRef((e,r)=>{const t=G(N,e),{autoSize:n,showCount:u,maxLength:i}=t,[A,T]=B(Object.assign(Object.assign({},t),{value:t.value===null?"":t.value}));t.value;const R=c.useRef(null),E=c.useRef("auto"),g=c.useRef(null),y=V({onEnterPress:t.onEnterPress,onKeyDown:t.onKeyDown,nativeInputRef:R,enterKeyHint:t.enterKeyHint});c.useImperativeHandle(r,()=>({clear:()=>{T("")},focus:()=>{var o;(o=R.current)===null||o===void 0||o.focus()},blur:()=>{var o;(o=R.current)===null||o===void 0||o.blur()},get nativeElement(){return R.current}})),L(()=>{if(!n)return;const o=R.current,a=g.current;if(!o||(o.style.height=E.current,!a))return;let s=a.scrollHeight;if(typeof n=="object"){const F=window.getComputedStyle(o),C=parseFloat(F.lineHeight);n.minRows&&(s=Math.max(s,n.minRows*C)),n.maxRows&&(s=Math.min(s,n.maxRows*C))}E.current=`${s}px`,o.style.height=`${s}px`},[A,n]);const p=c.useRef(!1);let _;const S=h(A).length;typeof u=="function"?_=u(S,i):u&&(_=m.createElement("div",{className:`${I}-count`},i===void 0?S:S+"/"+i));let d=t.rows;return typeof n=="object"&&(n.maxRows&&d>n.maxRows&&(d=n.maxRows),n.minRows&&d<n.minRows&&(d=n.minRows)),P(t,m.createElement("div",{className:I},m.createElement("textarea",{ref:R,className:`${I}-element`,rows:d,value:A,placeholder:t.placeholder,onChange:o=>{let a=o.target.value;i&&!p.current&&(a=h(a).slice(0,i).join("")),T(a)},id:t.id,onCompositionStart:o=>{var a;p.current=!0,(a=t.onCompositionStart)===null||a===void 0||a.call(t,o)},onCompositionEnd:o=>{var a;if(p.current=!1,i){const s=o.target.value;T(h(s).slice(0,i).join(""))}(a=t.onCompositionEnd)===null||a===void 0||a.call(t,o)},autoComplete:t.autoComplete,autoFocus:t.autoFocus,disabled:t.disabled,readOnly:t.readOnly,name:t.name,onFocus:t.onFocus,onBlur:t.onBlur,onClick:t.onClick,onKeyDown:y}),_,n&&m.createElement("textarea",{ref:g,className:`${I}-element ${I}-element-hidden`,value:A,rows:d,"aria-hidden":!0,readOnly:!0})))});w.defaultProps=N;const ce=()=>{const e=b(),[r,t]=c.useState("");return l.jsxs(l.Fragment,{children:[l.jsx(K,{style:{backgroundColor:"#f2f2f7",fontWeight:500},onBack:()=>{e(-1)},children:"导入数据"}),l.jsxs(j,{direction:"vertical",style:{backgroundColor:"#f2f2f7",padding:"16px",width:"100%",boxSizing:"border-box"},children:[l.jsx(H,{children:l.jsx(w,{placeholder:"请输入内容",rows:5,value:r,onChange:n=>{t(n)}})}),l.jsx(M,{block:!0,color:"primary",size:"large",onClick:()=>{},children:"保存"})]})]})};export{ce as ImportData};
