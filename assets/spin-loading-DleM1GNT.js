import{a as $,m as F,w as N}from"./with-default-props-DVrlrL9p.js";import{r as o,R as d,i as H}from"./index-D0XnXfhO.js";import{u as Y,a as k}from"./react-spring-web.esm-Cg9vpMj8.js";import{S as X,r as U}from"./should-render-UlZjmhUK.js";import{w as V}from"./with-stop-propagation-B3B-f0PH.js";import{u as W}from"./config-provider-losqsygp.js";import{_ as A}from"./index-CAYIEzTo.js";var z=function(){var t=o.useRef(!1);return o.useEffect(function(){return t.current=!1,function(){t.current=!0}},[]),t};const x=10;function q(t,e){return t>e&&t>x?"horizontal":e>t&&e>x?"vertical":""}function K(){const t=o.useRef(0),e=o.useRef(0),n=o.useRef(0),c=o.useRef(0),r=o.useRef(0),s=o.useRef(0),i=o.useRef(""),E=()=>i.current==="vertical",v=()=>i.current==="horizontal",u=()=>{n.current=0,c.current=0,r.current=0,s.current=0,i.current=""};return{move:f=>{const m=f.touches[0];n.current=m.clientX<0?0:m.clientX-t.current,c.current=m.clientY-e.current,r.current=Math.abs(n.current),s.current=Math.abs(c.current),i.current||(i.current=q(r.current,s.current))},start:f=>{u(),t.current=f.touches[0].clientX,e.current=f.touches[0].clientY},reset:u,startX:t,startY:e,deltaX:n,deltaY:c,offsetX:r,offsetY:s,direction:i,isVertical:E,isHorizontal:v}}const Z=$?window:void 0,G=["scroll","auto","overlay"];function J(t){return t.nodeType===1}function Q(t,e=Z){let n=t;for(;n&&n!==e&&J(n);){if(n===document.body)return e;const{overflowY:c}=window.getComputedStyle(n);if(G.includes(c)&&n.scrollHeight>n.clientHeight)return n;n=n.parentNode}return e}let O=!1;if($)try{const t={};Object.defineProperty(t,"passive",{get(){O=!0}}),window.addEventListener("test-passive",null,t)}catch{}let y=0;const M="adm-overflow-hidden";function ee(t){let e=t==null?void 0:t.parentElement;for(;e;){if(e.clientHeight<e.scrollHeight)return e;e=e.parentElement}return null}function te(t,e){const n=K(),c=i=>{n.move(i);const E=n.deltaY.current>0?"10":"01",v=Q(i.target,t.current);if(!v)return;if(e==="strict"){const p=ee(i.target);if(p===document.body||p===document.documentElement){i.preventDefault();return}}const{scrollHeight:u,offsetHeight:a,scrollTop:l}=v,{height:f}=v.getBoundingClientRect();let m="11";l===0?m=a>=u?"00":"01":u<=Math.round(f+l)&&(m="10"),m!=="11"&&n.isVertical()&&!(parseInt(m,2)&parseInt(E,2))&&i.cancelable&&O&&i.preventDefault()},r=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",c,O?{passive:!1}:!1),y||document.body.classList.add(M),y++},s=()=>{y&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",c),y--,y||document.body.classList.remove(M))};o.useEffect(()=>{if(e)return r(),()=>{s()}},[e])}const w="adm-mask",ne={default:.55,thin:.35,thick:.75},re={black:"0, 0, 0",white:"255, 255, 255"},oe={visible:!0,destroyOnClose:!1,forceRender:!1,color:"black",opacity:"default",disableBodyScroll:!0,getContainer:null,stopPropagation:["click"]},Ye=t=>{const e=F(oe,t),{locale:n}=W(),c=o.useRef(null);te(c,e.visible&&e.disableBodyScroll);const r=o.useMemo(()=>{var a;const l=(a=ne[e.opacity])!==null&&a!==void 0?a:e.opacity,f=re[e.color];return f?`rgba(${f}, ${l})`:e.color},[e.color,e.opacity]),[s,i]=o.useState(e.visible),E=z(),{opacity:v}=Y({opacity:e.visible?1:0,config:{precision:.01,mass:1,tension:250,friction:30,clamp:!0},onStart:()=>{i(!0)},onRest:()=>{var a,l;E.current||(i(e.visible),e.visible?(a=e.afterShow)===null||a===void 0||a.call(e):(l=e.afterClose)===null||l===void 0||l.call(e))}}),u=V(e.stopPropagation,N(e,d.createElement(k.div,{className:w,ref:c,"aria-hidden":!0,style:Object.assign(Object.assign({},e.style),{background:r,opacity:v,display:s?void 0:"none"}),onClick:a=>{var l;a.target===a.currentTarget&&((l=e.onMaskClick)===null||l===void 0||l.call(e,a))}},e.onMaskClick&&d.createElement("div",{className:`${w}-aria-button`,role:"button","aria-label":n.Mask.name,onClick:e.onMaskClick}),d.createElement("div",{className:`${w}-content`},e.children))));return d.createElement(X,{active:s,forceRender:e.forceRender,destroyOnClose:e.destroyOnClose},U(e.getContainer,u))};function Ae(t){return o.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},t,{style:Object.assign({verticalAlign:"-0.125em"},t.style),className:["antd-mobile-icon",t.className].filter(Boolean).join(" ")}),o.createElement("g",{id:"CloseOutline-CloseOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},o.createElement("g",{id:"CloseOutline-编组"},o.createElement("rect",{id:"CloseOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),o.createElement("path",{d:"M10.6085104,8.11754663 L24.1768397,21.8195031 L24.1768397,21.8195031 L37.7443031,8.1175556 C37.8194278,8.04168616 37.9217669,7.999 38.0285372,7.999 L41.1040268,7.999 C41.3249407,7.999 41.5040268,8.1780861 41.5040268,8.399 C41.5040268,8.50440471 41.4624226,8.60554929 41.3882578,8.68044752 L26.2773302,23.9408235 L26.2773302,23.9408235 L41.5021975,39.3175645 C41.65763,39.4745475 41.6563731,39.7278104 41.4993901,39.8832429 C41.4244929,39.9574004 41.3233534,39.999 41.2179546,39.999 L38.1434012,39.999 C38.0366291,39.999 37.9342885,39.9563124 37.8591634,39.8804408 L24.1768397,26.0621438 L24.1768397,26.0621438 L10.4936501,39.8804497 C10.4185257,39.9563159 10.3161889,39.999 10.2094212,39.999 L7.13584526,39.999 C6.91493136,39.999 6.73584526,39.8199139 6.73584526,39.599 C6.73584526,39.4936017 6.77744443,39.3924627 6.85160121,39.3175656 L22.0763492,23.9408235 L22.0763492,23.9408235 L6.96554081,8.68044639 C6.81010226,8.52346929 6.81134951,8.27020637 6.9683266,8.11476782 C7.04322474,8.04060377 7.14436883,7.999 7.24977299,7.999 L10.3242852,7.999 C10.4310511,7.999 10.5333863,8.04168267 10.6085104,8.11754663 Z",id:"CloseOutline-路径",fill:"currentColor",fillRule:"nonzero"}))))}const R=Object.assign({},H),{version:ce,render:se,unmountComponentAtNode:ie}=R;let b;try{Number((ce||"").split(".")[0])>=18&&R.createRoot&&(b=R.createRoot)}catch{}function P(t){const{__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:e}=R;e&&typeof e=="object"&&(e.usingClientEntryPoint=t)}const C="__antd_mobile_root__";function ae(t,e){se(t,e)}function le(t,e){P(!0);const n=e[C]||b(e);P(!1),n.render(t),e[C]=n}function ue(t,e){if(b){le(t,e);return}ae(t,e)}function de(t){return ie(t)}function fe(t){return A(this,void 0,void 0,function*(){return Promise.resolve().then(()=>{var e;(e=t[C])===null||e===void 0||e.unmount(),delete t[C]})})}function me(t){return b?fe(t):de(t)}function ve(t){const e=document.createElement("div");document.body.appendChild(e);function n(){me(e)&&e.parentNode&&e.parentNode.removeChild(e)}return ue(t,e),n}function Be(t){const e=d.forwardRef((r,s)=>{const[i,E]=o.useState(!1),v=o.useRef(!1),[u,a]=o.useState(t),l=o.useRef(0);o.useEffect(()=>{v.current?m():E(!0)},[]);function f(){var p,h;v.current=!0,E(!1),(h=(p=u.props).onClose)===null||h===void 0||h.call(p)}function m(){var p,h;c(),(h=(p=u.props).afterClose)===null||h===void 0||h.call(p)}return o.useImperativeHandle(s,()=>({close:f,replace:p=>{var h,_;l.current++,(_=(h=u.props).afterClose)===null||_===void 0||_.call(h),a(p)}})),d.cloneElement(u,Object.assign(Object.assign({},u.props),{key:l.current,visible:i,onClose:f,afterClose:m}))}),n=d.createRef(),c=ve(d.createElement(e,{ref:n}));return{close:()=>A(this,void 0,void 0,function*(){var r;n.current?(r=n.current)===null||r===void 0||r.close():c()}),replace:r=>{var s;(s=n.current)===null||s===void 0||s.replace(r)}}}const T="adm-auto-center",Ie=t=>N(t,d.createElement("div",{className:T},d.createElement("div",{className:`${T}-content`},t.children)));var B={exports:{}},I={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g=o;function pe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var he=typeof Object.is=="function"?Object.is:pe,Ee=g.useState,ge=g.useEffect,ye=g.useLayoutEffect,Re=g.useDebugValue;function Ce(t,e){var n=e(),c=Ee({inst:{value:n,getSnapshot:e}}),r=c[0].inst,s=c[1];return ye(function(){r.value=n,r.getSnapshot=e,S(r)&&s({inst:r})},[t,n,e]),ge(function(){return S(r)&&s({inst:r}),t(function(){S(r)&&s({inst:r})})},[t]),Re(n),n}function S(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!he(t,n)}catch{return!0}}function be(t,e){return e()}var _e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?be:Ce;I.useSyncExternalStore=g.useSyncExternalStore!==void 0?g.useSyncExternalStore:_e;B.exports=I;var we=B.exports;let Se=!1;const D=new Set;function j(){return Se}function Le(t){return D.add(t),()=>{D.delete(t)}}function ke(){return we.useSyncExternalStore(Le,j,j)}const L="adm-spin-loading",Oe={default:"var(--adm-color-weak)",primary:"var(--adm-color-primary)",white:"var(--adm-color-white)"},Ne={color:"default"},xe=15*3.14159265358979*2,He=o.memo(t=>{var e;const n=F(Ne,t),c=ke(),{percent:r}=Y({cancel:c,loop:{reverse:!0},from:{percent:80},to:{percent:30},config:{duration:1200}});return N(n,d.createElement(k.div,{className:L,style:{"--color":(e=Oe[n.color])!==null&&e!==void 0?e:n.color,"--percent":r}},d.createElement("svg",{className:`${L}-svg`,viewBox:"0 0 32 32"},d.createElement(k.circle,{className:`${L}-fill`,fill:"transparent",strokeWidth:"2",strokeDasharray:xe,strokeDashoffset:r,strokeLinecap:"square",r:15,cx:16,cy:16}))))});export{Ie as A,Ae as C,Ye as M,He as S,z as a,ve as b,Be as r,O as s,te as u};
