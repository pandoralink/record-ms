import{j as e,u as l,a as f,r as c}from"./index-DuOaQf9c.js";import{R as m,b as p}from"./context-T8wnGL0k.js";import{N as h}from"./nav-bar-CP985_7g.js";import{B as g,C as x,S as j,T as y}from"./tag-BiwvG0GJ.js";import{C as S,U as C}from"./UnorderedListOutline-jpePxD1U.js";function b(s){const t=new Date(s);let r=t.getHours();return t.getMinutes()>=30&&r++,`${r.toString().padStart(2,"0")}:30`}function v(s){const t={};return s.record.forEach(r=>{const n=b(r.time);t[n]||(t[n]=0),t[n]++}),t}function R({clickItemList:s}){const t={};return s.forEach(r=>{const n=v(r);Object.entries(n).forEach(([o,i])=>{t[o]||(t[o]=[]),t[o].push({actionItem:r.actionItem.name,count:i})})}),e.jsx("div",{children:Object.entries(t).map(([r,n])=>e.jsx("div",{style:{backgroundColor:"#f2f2f7",padding:"16px"},children:e.jsx(x,{title:`${parseInt(r.split(":")[0],10)-1}:30-${r}`,bodyStyle:{textAlign:"left"},children:e.jsx(j,{children:n.map(o=>e.jsxs(y,{round:!0,color:"primary",style:{fontSize:18,fontWeight:"bold",minWidth:60,paddingTop:4,paddingBottom:4,textAlign:"center"},children:[o.actionItem," + ",o.count]},o.actionItem))})})},r))})}const I=()=>{const s=l(),t=p(),[r]=f(),[n]=c.useState(r.get("recordKey")||""),[o,i]=c.useState(!0),d=c.useMemo(()=>{var a;return((a=t==null?void 0:t.find(u=>u.rKey===n))==null?void 0:a.items)||[]},[n,t]);return d?e.jsxs(e.Fragment,{children:[e.jsx(h,{style:{backgroundColor:"#f2f2f7"},onBack:()=>{s({pathname:"/playground",search:"tab=analyse"})},right:e.jsx("div",{style:{paddingTop:8},children:e.jsx(g,{fill:"none",onClick:()=>{i(a=>!a)},children:o?e.jsx(S,{fontSize:24}):e.jsx(C,{fontSize:24})})})}),e.jsx(R,{clickItemList:d})]}):null},P=()=>e.jsx(m,{children:e.jsx(I,{})});export{P as RecordTagDetailWithDay};
