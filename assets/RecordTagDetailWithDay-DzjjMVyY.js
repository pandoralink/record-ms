import{u as m,b as p,r as i,j as o}from"./index-CMXUwmkd.js";import"./use-props-value-CerFI1Of.js";import{C as f,S as u}from"./space-BaVPEU-0.js";import{N as l}from"./nav-bar-DOGyKCBy.js";import{S as d}from"./safe-area-B5YL0QKI.js";import{b as x}from"./context-BaHvDdrU.js";import{A as j}from"./ActionNameTag-GS642QLh.js";import{T as g}from"./TagDetailPopover--VNIj4XK.js";import{a as h}from"./utils-UBJTGUc6.js";import"./index-CksKQnVe.js";import"./index-B3O_23_Y.js";import"./index-B05QYugb.js";import"./tag-Cxglr5B6.js";import"./index-BHmEDAxf.js";function y({clickItemList:n}){const r={};return n.forEach(s=>{const e=h(s);Object.entries(e).forEach(([t,a])=>{r[t]||(r[t]=[]),r[t].push({actionItem:s.actionItem.name,count:a})})}),o.jsx("div",{children:Object.entries(r).map(([s,e])=>o.jsx("div",{style:{backgroundColor:"#f2f2f7",padding:"16px"},children:o.jsx(f,{title:`${parseInt(s.split(":")[0],10)-1}:30-${s}`,bodyStyle:{textAlign:"left"},children:o.jsx(u,{children:e.map(t=>o.jsx(g,{timeList:t.count.timeList,children:o.jsx(j,{name:t.actionItem,count:t.count.total})},t.actionItem))})})},s))})}const K=()=>{const n=m(),r=x(),[s]=p(),[e]=i.useState(s.get("recordKey")||""),t=i.useMemo(()=>{var a;return((a=r==null?void 0:r.find(c=>c.rKey===e))==null?void 0:a.items)||[]},[e,r]);return t?o.jsxs(o.Fragment,{children:[o.jsx(d,{position:"top",style:{background:"#f2f2f7"}}),o.jsx(l,{style:{backgroundColor:"#f2f2f7"},onBack:()=>{n(-1)}}),o.jsx(y,{clickItemList:t})]}):null};export{K as RecordTagDetailWithDay};
