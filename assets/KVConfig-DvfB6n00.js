import{r as P,_ as jn,f as Nn,h as Hr,R,i as Br,g as Ln,d as Tn,u as In,j as me}from"./index-DE9JW7L8.js";import{m as zr,c as Ee,w as pt,a as qn}from"./with-default-props-ZNhL5bow.js";import{c as Kr,_ as Dn}from"./index-Dp9DsjWu.js";import{L as Ke}from"./index-CShAKJgO.js";import{t as Wn,r as Fr}from"./traverse-react-node-C6Drq389.js";import{u as Gr}from"./validate-gfvL6HFD.js";import{u as Un,a as Yr,b as Hn}from"./use-props-value-Bal7tDYD.js";import{w as Bn,u as zn,c as Kn,r as Gn,a as Yn,I as Zn}from"./input-DqOP86Ju.js";import{g as er,u as Jn,c as Xn}from"./index-C_OXVGSL.js";import{N as Qn}from"./nav-bar-pkrgLCdM.js";import{S as ei}from"./safe-area-sQA8WHwm.js";import{c as ti,a as ri,f as ni,l as ii}from"./context-C9UckKB9.js";import{A as ai}from"./ActionNameTag-CUcQ-fDk.js";import"./index-DMGlskFF.js";import"./tag-C1v5LHLC.js";var oi=function(e){return e.every(function(t){var r=er(t);return r?r.getRootNode()instanceof ShadowRoot:!1})},si=function(e){return e?e.getRootNode():document},li=function(e){if(!e||!document.getRootNode)return document;var t=Array.isArray(e)?e:[e];return oi(t)?si(er(t[0])):document};function ui(e,t,r){r===void 0&&(r="click");var i=Jn(e);Xn(function(){var n=function(s){var l=Array.isArray(t)?t:[t];l.some(function(u){var c=er(u);return!c||c.contains(s.target)})||i.current(s)},a=li(t),o=Array.isArray(r)?r:[r];return o.forEach(function(s){return a.addEventListener(s,n)}),function(){o.forEach(function(s){return a.removeEventListener(s,n)})}},Array.isArray(r)?r:[r],t)}function ci(e){return P.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},e,{style:Object.assign({verticalAlign:"-0.125em"},e.style),className:["antd-mobile-icon",e.className].filter(Boolean).join(" ")}),P.createElement("g",{id:"QuestionCircleOutline-QuestionCircleOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},P.createElement("g",{id:"QuestionCircleOutline-编组"},P.createElement("rect",{id:"QuestionCircleOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),P.createElement("path",{d:"M24,2 C36.1502645,2 46,11.8497355 46,24 C46,36.1502645 36.1502645,46 24,46 C11.8497355,46 2,36.1502645 2,24 C2,11.8497355 11.8497355,2 24,2 Z M24,5 C13.5065898,5 5,13.5065898 5,24 C5,34.4934102 13.5065898,43 24,43 C34.4934102,43 43,34.4934102 43,24 C43,13.5065898 34.4934102,5 24,5 Z M26,32.4 L26,34.6 C26,34.8209139 25.8209139,35 25.6,35 L23.4,35 C23.1790861,35 23,34.8209139 23,34.6 L23,32.4 C23,32.1790861 23.1790861,32 23.4,32 L25.6,32 C25.8209139,32 26,32.1790861 26,32.4 Z M24,12 C27.8659932,12 31,15.1340068 31,19 C31,22.1706393 28.8919961,24.8489278 26.0010432,25.7098107 L26.0001268,28.6 C25.9999299,28.8208643 25.8208644,28.9998731 25.6,29 L23.4,29 C23.1790861,29 23,28.8209139 23,28.6 L23,23.4 C23,23.1790861 23.1790861,23 23.4,23 L24,23 L24,23 C26.209139,23 28,21.209139 28,19 C28,16.790861 26.209139,15 24,15 C21.790861,15 20,16.790861 20,19 L17,19 C17,15.1340068 20.1340068,12 24,12 Z",id:"QuestionCircleOutline-形状",fill:"currentColor",fillRule:"nonzero"}))))}function tr(e,t){if(e==null)return{};var r=jn(e,t),i,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function re(e){"@babel/helpers - typeof";return re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},re(e)}function fi(e,t){if(re(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(re(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zr(e){var t=fi(e,"string");return re(t)=="symbol"?t:t+""}function Ze(e,t,r){return t=Zr(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xr(Object(r),!0).forEach(function(i){Ze(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xr(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Lt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function di(e){if(Array.isArray(e))return Lt(e)}function Jr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rr(e,t){if(e){if(typeof e=="string")return Lt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lt(e,t)}}function gi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D(e){return di(e)||Jr(e)||rr(e)||gi()}function nr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mi(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Zr(i.key),i)}}function ir(e,t,r){return t&&mi(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hi(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nn(e,t)}function dt(e){return dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dt(e)}function Xr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xr=function(){return!!e})()}function vi(e,t){if(t&&(re(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hr(e)}function pi(e){var t=Xr();return function(){var i=dt(e),n;if(t){var a=dt(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return vi(this,n)}}var Qr={exports:{}},U={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ar=Symbol.for("react.element"),or=Symbol.for("react.portal"),yt=Symbol.for("react.fragment"),bt=Symbol.for("react.strict_mode"),wt=Symbol.for("react.profiler"),Ft=Symbol.for("react.provider"),xt=Symbol.for("react.context"),yi=Symbol.for("react.server_context"),Et=Symbol.for("react.forward_ref"),Ot=Symbol.for("react.suspense"),Pt=Symbol.for("react.suspense_list"),Ct=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),bi=Symbol.for("react.offscreen"),en;en=Symbol.for("react.module.reference");function se(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ar:switch(e=e.type,e){case yt:case wt:case bt:case Ot:case Pt:return e;default:switch(e=e&&e.$$typeof,e){case yi:case xt:case Et:case Rt:case Ct:case Ft:return e;default:return t}}case or:return t}}}U.ContextConsumer=xt;U.ContextProvider=Ft;U.Element=ar;U.ForwardRef=Et;U.Fragment=yt;U.Lazy=Rt;U.Memo=Ct;U.Portal=or;U.Profiler=wt;U.StrictMode=bt;U.Suspense=Ot;U.SuspenseList=Pt;U.isAsyncMode=function(){return!1};U.isConcurrentMode=function(){return!1};U.isContextConsumer=function(e){return se(e)===xt};U.isContextProvider=function(e){return se(e)===Ft};U.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ar};U.isForwardRef=function(e){return se(e)===Et};U.isFragment=function(e){return se(e)===yt};U.isLazy=function(e){return se(e)===Rt};U.isMemo=function(e){return se(e)===Ct};U.isPortal=function(e){return se(e)===or};U.isProfiler=function(e){return se(e)===wt};U.isStrictMode=function(e){return se(e)===bt};U.isSuspense=function(e){return se(e)===Ot};U.isSuspenseList=function(e){return se(e)===Pt};U.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===yt||e===wt||e===bt||e===Ot||e===Pt||e===bi||typeof e=="object"&&e!==null&&(e.$$typeof===Rt||e.$$typeof===Ct||e.$$typeof===Ft||e.$$typeof===xt||e.$$typeof===Et||e.$$typeof===en||e.getModuleId!==void 0)};U.typeOf=se;Qr.exports=U;var wi=Qr.exports;function Tt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[];return R.Children.forEach(e,function(i){i==null&&!t.keepEmpty||(Array.isArray(i)?r=r.concat(Tt(i)):wi.isFragment(i)&&i.props?r=r.concat(Tt(i.props.children,t)):r.push(i))}),r}var It={},Fi=function(t){};function xi(e,t){}function Ei(e,t){}function Oi(){It={}}function tn(e,t,r){!t&&!It[r]&&(e(!1,r),It[r]=!0)}function fe(e,t){tn(xi,e,t)}function Pi(e,t){tn(Ei,e,t)}fe.preMessage=Fi;fe.resetWarned=Oi;fe.noteOnce=Pi;var Se="RC_FORM_INTERNAL_HOOKS",B=function(){fe(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Me=P.createContext({getFieldValue:B,getFieldsValue:B,getFieldError:B,getFieldWarning:B,getFieldsError:B,isFieldsTouched:B,isFieldTouched:B,isFieldValidating:B,isFieldsValidating:B,resetFields:B,setFields:B,setFieldValue:B,setFieldsValue:B,validateFields:B,submit:B,getInternalHooks:function(){return B(),{dispatch:B,initEntityValue:B,registerField:B,useSubscribe:B,setInitialValues:B,destroyForm:B,setCallbacks:B,registerWatch:B,getFields:B,setValidateMessages:B,setPreserve:B,getInitialValue:B}}});function qt(e){return e==null?[]:Array.isArray(e)?e:[e]}function ye(){ye=function(){return t};var e,t={},r=Object.prototype,i=r.hasOwnProperty,n=Object.defineProperty||function(x,b,E){x[b]=E.value},a=typeof Symbol=="function"?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(x,b,E){return Object.defineProperty(x,b,{value:E,enumerable:!0,configurable:!0,writable:!0}),x[b]}try{u({},"")}catch{u=function(E,S,M){return E[S]=M}}function c(x,b,E,S){var M=b&&b.prototype instanceof g?b:g,k=Object.create(M.prototype),j=new L(S||[]);return n(k,"_invoke",{value:N(x,E,j)}),k}function f(x,b,E){try{return{type:"normal",arg:x.call(b,E)}}catch(S){return{type:"throw",arg:S}}}t.wrap=c;var m="suspendedStart",y="suspendedYield",v="executing",d="completed",h={};function g(){}function w(){}function p(){}var F={};u(F,o,function(){return this});var O=Object.getPrototypeOf,C=O&&O(O(G([])));C&&C!==r&&i.call(C,o)&&(F=C);var A=p.prototype=g.prototype=Object.create(F);function V(x){["next","throw","return"].forEach(function(b){u(x,b,function(E){return this._invoke(b,E)})})}function $(x,b){function E(M,k,j,q){var H=f(x[M],x,k);if(H.type!=="throw"){var Y=H.arg,Q=Y.value;return Q&&re(Q)=="object"&&i.call(Q,"__await")?b.resolve(Q.__await).then(function(ee){E("next",ee,j,q)},function(ee){E("throw",ee,j,q)}):b.resolve(Q).then(function(ee){Y.value=ee,j(Y)},function(ee){return E("throw",ee,j,q)})}q(H.arg)}var S;n(this,"_invoke",{value:function(k,j){function q(){return new b(function(H,Y){E(k,j,H,Y)})}return S=S?S.then(q,q):q()}})}function N(x,b,E){var S=m;return function(M,k){if(S===v)throw Error("Generator is already running");if(S===d){if(M==="throw")throw k;return{value:e,done:!0}}for(E.method=M,E.arg=k;;){var j=E.delegate;if(j){var q=K(j,E);if(q){if(q===h)continue;return q}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(S===m)throw S=d,E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);S=v;var H=f(x,b,E);if(H.type==="normal"){if(S=E.done?d:y,H.arg===h)continue;return{value:H.arg,done:E.done}}H.type==="throw"&&(S=d,E.method="throw",E.arg=H.arg)}}}function K(x,b){var E=b.method,S=x.iterator[E];if(S===e)return b.delegate=null,E==="throw"&&x.iterator.return&&(b.method="return",b.arg=e,K(x,b),b.method==="throw")||E!=="return"&&(b.method="throw",b.arg=new TypeError("The iterator does not provide a '"+E+"' method")),h;var M=f(S,x.iterator,b.arg);if(M.type==="throw")return b.method="throw",b.arg=M.arg,b.delegate=null,h;var k=M.arg;return k?k.done?(b[x.resultName]=k.value,b.next=x.nextLoc,b.method!=="return"&&(b.method="next",b.arg=e),b.delegate=null,h):k:(b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,h)}function _(x){var b={tryLoc:x[0]};1 in x&&(b.catchLoc=x[1]),2 in x&&(b.finallyLoc=x[2],b.afterLoc=x[3]),this.tryEntries.push(b)}function W(x){var b=x.completion||{};b.type="normal",delete b.arg,x.completion=b}function L(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(_,this),this.reset(!0)}function G(x){if(x||x===""){var b=x[o];if(b)return b.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var E=-1,S=function M(){for(;++E<x.length;)if(i.call(x,E))return M.value=x[E],M.done=!1,M;return M.value=e,M.done=!0,M};return S.next=S}}throw new TypeError(re(x)+" is not iterable")}return w.prototype=p,n(A,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:w,configurable:!0}),w.displayName=u(p,l,"GeneratorFunction"),t.isGeneratorFunction=function(x){var b=typeof x=="function"&&x.constructor;return!!b&&(b===w||(b.displayName||b.name)==="GeneratorFunction")},t.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,p):(x.__proto__=p,u(x,l,"GeneratorFunction")),x.prototype=Object.create(A),x},t.awrap=function(x){return{__await:x}},V($.prototype),u($.prototype,s,function(){return this}),t.AsyncIterator=$,t.async=function(x,b,E,S,M){M===void 0&&(M=Promise);var k=new $(c(x,b,E,S),M);return t.isGeneratorFunction(b)?k:k.next().then(function(j){return j.done?j.value:k.next()})},V(A),u(A,l,"Generator"),u(A,o,function(){return this}),u(A,"toString",function(){return"[object Generator]"}),t.keys=function(x){var b=Object(x),E=[];for(var S in b)E.push(S);return E.reverse(),function M(){for(;E.length;){var k=E.pop();if(k in b)return M.value=k,M.done=!1,M}return M.done=!0,M}},t.values=G,L.prototype={constructor:L,reset:function(b){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(W),!b)for(var E in this)E.charAt(0)==="t"&&i.call(this,E)&&!isNaN(+E.slice(1))&&(this[E]=e)},stop:function(){this.done=!0;var b=this.tryEntries[0].completion;if(b.type==="throw")throw b.arg;return this.rval},dispatchException:function(b){if(this.done)throw b;var E=this;function S(Y,Q){return j.type="throw",j.arg=b,E.next=Y,Q&&(E.method="next",E.arg=e),!!Q}for(var M=this.tryEntries.length-1;M>=0;--M){var k=this.tryEntries[M],j=k.completion;if(k.tryLoc==="root")return S("end");if(k.tryLoc<=this.prev){var q=i.call(k,"catchLoc"),H=i.call(k,"finallyLoc");if(q&&H){if(this.prev<k.catchLoc)return S(k.catchLoc,!0);if(this.prev<k.finallyLoc)return S(k.finallyLoc)}else if(q){if(this.prev<k.catchLoc)return S(k.catchLoc,!0)}else{if(!H)throw Error("try statement without catch or finally");if(this.prev<k.finallyLoc)return S(k.finallyLoc)}}}},abrupt:function(b,E){for(var S=this.tryEntries.length-1;S>=0;--S){var M=this.tryEntries[S];if(M.tryLoc<=this.prev&&i.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var k=M;break}}k&&(b==="break"||b==="continue")&&k.tryLoc<=E&&E<=k.finallyLoc&&(k=null);var j=k?k.completion:{};return j.type=b,j.arg=E,k?(this.method="next",this.next=k.finallyLoc,h):this.complete(j)},complete:function(b,E){if(b.type==="throw")throw b.arg;return b.type==="break"||b.type==="continue"?this.next=b.arg:b.type==="return"?(this.rval=this.arg=b.arg,this.method="return",this.next="end"):b.type==="normal"&&E&&(this.next=E),h},finish:function(b){for(var E=this.tryEntries.length-1;E>=0;--E){var S=this.tryEntries[E];if(S.finallyLoc===b)return this.complete(S.completion,S.afterLoc),W(S),h}},catch:function(b){for(var E=this.tryEntries.length-1;E>=0;--E){var S=this.tryEntries[E];if(S.tryLoc===b){var M=S.completion;if(M.type==="throw"){var k=M.arg;W(S)}return k}}throw Error("illegal catch attempt")},delegateYield:function(b,E,S){return this.delegate={iterator:G(b),resultName:E,nextLoc:S},this.method==="next"&&(this.arg=e),h}},t}function Er(e,t,r,i,n,a,o){try{var s=e[a](o),l=s.value}catch(u){r(u);return}s.done?t(l):Promise.resolve(l).then(i,n)}function At(e){return function(){var t=this,r=arguments;return new Promise(function(i,n){var a=e.apply(t,r);function o(l){Er(a,i,n,o,s,"next",l)}function s(l){Er(a,i,n,o,s,"throw",l)}o(void 0)})}}function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ke.apply(this,arguments)}function Ci(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Je(e,t)}function Dt(e){return Dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dt(e)}function Je(e,t){return Je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,n){return i.__proto__=n,i},Je(e,t)}function Ri(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ct(e,t,r){return Ri()?ct=Reflect.construct.bind():ct=function(n,a,o){var s=[null];s.push.apply(s,a);var l=Function.bind.apply(n,s),u=new l;return o&&Je(u,o.prototype),u},ct.apply(null,arguments)}function Ai(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Wt(e){var t=typeof Map=="function"?new Map:void 0;return Wt=function(i){if(i===null||!Ai(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(i))return t.get(i);t.set(i,n)}function n(){return ct(i,arguments,Dt(this).constructor)}return n.prototype=Object.create(i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Je(n,i)},Wt(e)}var Vi=/%[sdj%]/g,Si=function(){};function Ut(e){if(!e||!e.length)return null;var t={};return e.forEach(function(r){var i=r.field;t[i]=t[i]||[],t[i].push(r)}),t}function ie(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var n=0,a=r.length;if(typeof e=="function")return e.apply(null,r);if(typeof e=="string"){var o=e.replace(Vi,function(s){if(s==="%%")return"%";if(n>=a)return s;switch(s){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch{return"[Circular]"}break;default:return s}});return o}return e}function ki(e){return e==="string"||e==="url"||e==="hex"||e==="email"||e==="date"||e==="pattern"}function J(e,t){return!!(e==null||t==="array"&&Array.isArray(e)&&!e.length||ki(t)&&typeof e=="string"&&!e)}function $i(e,t,r){var i=[],n=0,a=e.length;function o(s){i.push.apply(i,s||[]),n++,n===a&&r(i)}e.forEach(function(s){t(s,o)})}function Or(e,t,r){var i=0,n=e.length;function a(o){if(o&&o.length){r(o);return}var s=i;i=i+1,s<n?t(e[s],a):r([])}a([])}function Mi(e){var t=[];return Object.keys(e).forEach(function(r){t.push.apply(t,e[r]||[])}),t}var Pr=function(e){Ci(t,e);function t(r,i){var n;return n=e.call(this,"Async Validation Error")||this,n.errors=r,n.fields=i,n}return t}(Wt(Error));function _i(e,t,r,i,n){if(t.first){var a=new Promise(function(m,y){var v=function(g){return i(g),g.length?y(new Pr(g,Ut(g))):m(n)},d=Mi(e);Or(d,r,v)});return a.catch(function(m){return m}),a}var o=t.firstFields===!0?Object.keys(e):t.firstFields||[],s=Object.keys(e),l=s.length,u=0,c=[],f=new Promise(function(m,y){var v=function(h){if(c.push.apply(c,h),u++,u===l)return i(c),c.length?y(new Pr(c,Ut(c))):m(n)};s.length||(i(c),m(n)),s.forEach(function(d){var h=e[d];o.indexOf(d)!==-1?Or(h,r,v):$i(h,r,v)})});return f.catch(function(m){return m}),f}function ji(e){return!!(e&&e.message!==void 0)}function Ni(e,t){for(var r=e,i=0;i<t.length;i++){if(r==null)return r;r=r[t[i]]}return r}function Cr(e,t){return function(r){var i;return e.fullFields?i=Ni(t,e.fullFields):i=t[r.field||e.fullField],ji(r)?(r.field=r.field||e.fullField,r.fieldValue=i,r):{message:typeof r=="function"?r():r,fieldValue:i,field:r.field||e.fullField}}}function Rr(e,t){if(t){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];typeof i=="object"&&typeof e[r]=="object"?e[r]=ke({},e[r],i):e[r]=i}}return e}var rn=function(t,r,i,n,a,o){t.required&&(!i.hasOwnProperty(t.field)||J(r,o||t.type))&&n.push(ie(a.messages.required,t.fullField))},Li=function(t,r,i,n,a){(/^\s+$/.test(r)||r==="")&&n.push(ie(a.messages.whitespace,t.fullField))},lt,Ti=function(){if(lt)return lt;var e="[a-fA-F\\d:]",t=function(F){return F&&F.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",n=(`
(?:
(?:`+i+":){7}(?:"+i+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+i+":){6}(?:"+r+"|:"+i+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+i+":){5}(?::"+r+"|(?::"+i+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+i+":){4}(?:(?::"+i+"){0,1}:"+r+"|(?::"+i+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+i+":){3}(?:(?::"+i+"){0,2}:"+r+"|(?::"+i+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+i+":){2}(?:(?::"+i+"){0,3}:"+r+"|(?::"+i+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+i+":){1}(?:(?::"+i+"){0,4}:"+r+"|(?::"+i+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+i+"){0,5}:"+r+"|(?::"+i+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+r+"$)|(?:^"+n+"$)"),o=new RegExp("^"+r+"$"),s=new RegExp("^"+n+"$"),l=function(F){return F&&F.exact?a:new RegExp("(?:"+t(F)+r+t(F)+")|(?:"+t(F)+n+t(F)+")","g")};l.v4=function(p){return p&&p.exact?o:new RegExp(""+t(p)+r+t(p),"g")},l.v6=function(p){return p&&p.exact?s:new RegExp(""+t(p)+n+t(p),"g")};var u="(?:(?:[a-z]+:)?//)",c="(?:\\S+(?::\\S*)?@)?",f=l.v4().source,m=l.v6().source,y="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",v="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",d="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",h="(?::\\d{2,5})?",g='(?:[/?#][^\\s"]*)?',w="(?:"+u+"|www\\.)"+c+"(?:localhost|"+f+"|"+m+"|"+y+v+d+")"+h+g;return lt=new RegExp("(?:^"+w+"$)","i"),lt},Ar={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},ze={integer:function(t){return ze.number(t)&&parseInt(t,10)===t},float:function(t){return ze.number(t)&&!ze.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch{return!1}},date:function(t){return typeof t.getTime=="function"&&typeof t.getMonth=="function"&&typeof t.getYear=="function"&&!isNaN(t.getTime())},number:function(t){return isNaN(t)?!1:typeof t=="number"},object:function(t){return typeof t=="object"&&!ze.array(t)},method:function(t){return typeof t=="function"},email:function(t){return typeof t=="string"&&t.length<=320&&!!t.match(Ar.email)},url:function(t){return typeof t=="string"&&t.length<=2048&&!!t.match(Ti())},hex:function(t){return typeof t=="string"&&!!t.match(Ar.hex)}},Ii=function(t,r,i,n,a){if(t.required&&r===void 0){rn(t,r,i,n,a);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=t.type;o.indexOf(s)>-1?ze[s](r)||n.push(ie(a.messages.types[s],t.fullField,t.type)):s&&typeof r!==t.type&&n.push(ie(a.messages.types[s],t.fullField,t.type))},qi=function(t,r,i,n,a){var o=typeof t.len=="number",s=typeof t.min=="number",l=typeof t.max=="number",u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=r,f=null,m=typeof r=="number",y=typeof r=="string",v=Array.isArray(r);if(m?f="number":y?f="string":v&&(f="array"),!f)return!1;v&&(c=r.length),y&&(c=r.replace(u,"_").length),o?c!==t.len&&n.push(ie(a.messages[f].len,t.fullField,t.len)):s&&!l&&c<t.min?n.push(ie(a.messages[f].min,t.fullField,t.min)):l&&!s&&c>t.max?n.push(ie(a.messages[f].max,t.fullField,t.max)):s&&l&&(c<t.min||c>t.max)&&n.push(ie(a.messages[f].range,t.fullField,t.min,t.max))},je="enum",Di=function(t,r,i,n,a){t[je]=Array.isArray(t[je])?t[je]:[],t[je].indexOf(r)===-1&&n.push(ie(a.messages[je],t.fullField,t[je].join(", ")))},Wi=function(t,r,i,n,a){if(t.pattern){if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(r)||n.push(ie(a.messages.pattern.mismatch,t.fullField,r,t.pattern));else if(typeof t.pattern=="string"){var o=new RegExp(t.pattern);o.test(r)||n.push(ie(a.messages.pattern.mismatch,t.fullField,r,t.pattern))}}},T={required:rn,whitespace:Li,type:Ii,range:qi,enum:Di,pattern:Wi},Ui=function(t,r,i,n,a){var o=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(J(r,"string")&&!t.required)return i();T.required(t,r,n,o,a,"string"),J(r,"string")||(T.type(t,r,n,o,a),T.range(t,r,n,o,a),T.pattern(t,r,n,o,a),t.whitespace===!0&&T.whitespace(t,r,n,o,a))}i(o)},Hi=function(t,r,i,n,a){var o=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(J(r)&&!t.required)return i();T.required(t,r,n,o,a),r!==void 0&&T.type(t,r,n,o,a)}i(o)},Bi=function(t,r,i,n,a){var o=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(r===""&&(r=void 0),J(r)&&!t.required)return i();T.required(t,r,n,o,a),r!==void 0&&(T.type(t,r,n,o,a),T.range(t,r,n,o,a))}i(o)},zi=function(t,r,i,n,a){var o=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(J(r)&&!t.required)return i();T.required(t,r,n,o,a),r!==void 0&&T.type(t,r,n,o,a)}i(o)},Ki=function(t,r,i,n,a){var o=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(J(r)&&!t.required)return i();T.required(t,r,n,o,a),J(r)||T.type(t,r,n,o,a)}i(o)},Gi=function(t,r,i,n,a){var o=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(J(r)&&!t.required)return i();T.required(t,r,n,o,a),r!==void 0&&(T.type(t,r,n,o,a),T.range(t,r,n,o,a))}i(o)},Yi=function(t,r,i,n,a){var o=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(J(r)&&!t.required)return i();T.required(t,r,n,o,a),r!==void 0&&(T.type(t,r,n,o,a),T.range(t,r,n,o,a))}i(o)},Zi=function(t,r,i,n,a){var o=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(r==null&&!t.required)return i();T.required(t,r,n,o,a,"array"),r!=null&&(T.type(t,r,n,o,a),T.range(t,r,n,o,a))}i(o)},Ji=function(t,r,i,n,a){var o=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(J(r)&&!t.required)return i();T.required(t,r,n,o,a),r!==void 0&&T.type(t,r,n,o,a)}i(o)},Xi="enum",Qi=function(t,r,i,n,a){var o=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(J(r)&&!t.required)return i();T.required(t,r,n,o,a),r!==void 0&&T[Xi](t,r,n,o,a)}i(o)},ea=function(t,r,i,n,a){var o=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(J(r,"string")&&!t.required)return i();T.required(t,r,n,o,a),J(r,"string")||T.pattern(t,r,n,o,a)}i(o)},ta=function(t,r,i,n,a){var o=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(J(r,"date")&&!t.required)return i();if(T.required(t,r,n,o,a),!J(r,"date")){var l;r instanceof Date?l=r:l=new Date(r),T.type(t,l,n,o,a),l&&T.range(t,l.getTime(),n,o,a)}}i(o)},ra=function(t,r,i,n,a){var o=[],s=Array.isArray(r)?"array":typeof r;T.required(t,r,n,o,a,s),i(o)},kt=function(t,r,i,n,a){var o=t.type,s=[],l=t.required||!t.required&&n.hasOwnProperty(t.field);if(l){if(J(r,o)&&!t.required)return i();T.required(t,r,n,s,a,o),J(r,o)||T.type(t,r,n,s,a)}i(s)},na=function(t,r,i,n,a){var o=[],s=t.required||!t.required&&n.hasOwnProperty(t.field);if(s){if(J(r)&&!t.required)return i();T.required(t,r,n,o,a)}i(o)},Ge={string:Ui,method:Hi,number:Bi,boolean:zi,regexp:Ki,integer:Gi,float:Yi,array:Zi,object:Ji,enum:Qi,pattern:ea,date:ta,url:kt,hex:kt,email:kt,required:ra,any:na};function Ht(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var Bt=Ht(),rt=function(){function e(r){this.rules=null,this._messages=Bt,this.define(r)}var t=e.prototype;return t.define=function(i){var n=this;if(!i)throw new Error("Cannot configure a schema with no rules");if(typeof i!="object"||Array.isArray(i))throw new Error("Rules must be an object");this.rules={},Object.keys(i).forEach(function(a){var o=i[a];n.rules[a]=Array.isArray(o)?o:[o]})},t.messages=function(i){return i&&(this._messages=Rr(Ht(),i)),this._messages},t.validate=function(i,n,a){var o=this;n===void 0&&(n={}),a===void 0&&(a=function(){});var s=i,l=n,u=a;if(typeof l=="function"&&(u=l,l={}),!this.rules||Object.keys(this.rules).length===0)return u&&u(null,s),Promise.resolve(s);function c(d){var h=[],g={};function w(F){if(Array.isArray(F)){var O;h=(O=h).concat.apply(O,F)}else h.push(F)}for(var p=0;p<d.length;p++)w(d[p]);h.length?(g=Ut(h),u(h,g)):u(null,s)}if(l.messages){var f=this.messages();f===Bt&&(f=Ht()),Rr(f,l.messages),l.messages=f}else l.messages=this.messages();var m={},y=l.keys||Object.keys(this.rules);y.forEach(function(d){var h=o.rules[d],g=s[d];h.forEach(function(w){var p=w;typeof p.transform=="function"&&(s===i&&(s=ke({},s)),g=s[d]=p.transform(g)),typeof p=="function"?p={validator:p}:p=ke({},p),p.validator=o.getValidationMethod(p),p.validator&&(p.field=d,p.fullField=p.fullField||d,p.type=o.getType(p),m[d]=m[d]||[],m[d].push({rule:p,value:g,source:s,field:d}))})});var v={};return _i(m,l,function(d,h){var g=d.rule,w=(g.type==="object"||g.type==="array")&&(typeof g.fields=="object"||typeof g.defaultField=="object");w=w&&(g.required||!g.required&&d.value),g.field=d.field;function p(C,A){return ke({},A,{fullField:g.fullField+"."+C,fullFields:g.fullFields?[].concat(g.fullFields,[C]):[C]})}function F(C){C===void 0&&(C=[]);var A=Array.isArray(C)?C:[C];!l.suppressWarning&&A.length&&e.warning("async-validator:",A),A.length&&g.message!==void 0&&(A=[].concat(g.message));var V=A.map(Cr(g,s));if(l.first&&V.length)return v[g.field]=1,h(V);if(!w)h(V);else{if(g.required&&!d.value)return g.message!==void 0?V=[].concat(g.message).map(Cr(g,s)):l.error&&(V=[l.error(g,ie(l.messages.required,g.field))]),h(V);var $={};g.defaultField&&Object.keys(d.value).map(function(_){$[_]=g.defaultField}),$=ke({},$,d.rule.fields);var N={};Object.keys($).forEach(function(_){var W=$[_],L=Array.isArray(W)?W:[W];N[_]=L.map(p.bind(null,_))});var K=new e(N);K.messages(l.messages),d.rule.options&&(d.rule.options.messages=l.messages,d.rule.options.error=l.error),K.validate(d.value,d.rule.options||l,function(_){var W=[];V&&V.length&&W.push.apply(W,V),_&&_.length&&W.push.apply(W,_),h(W.length?W:null)})}}var O;if(g.asyncValidator)O=g.asyncValidator(g,d.value,F,d.source,l);else if(g.validator){try{O=g.validator(g,d.value,F,d.source,l)}catch(C){console.error==null||console.error(C),l.suppressValidatorError||setTimeout(function(){throw C},0),F(C.message)}O===!0?F():O===!1?F(typeof g.message=="function"?g.message(g.fullField||g.field):g.message||(g.fullField||g.field)+" fails"):O instanceof Array?F(O):O instanceof Error&&F(O.message)}O&&O.then&&O.then(function(){return F()},function(C){return F(C)})},function(d){c(d)},s)},t.getType=function(i){if(i.type===void 0&&i.pattern instanceof RegExp&&(i.type="pattern"),typeof i.validator!="function"&&i.type&&!Ge.hasOwnProperty(i.type))throw new Error(ie("Unknown rule type %s",i.type));return i.type||"string"},t.getValidationMethod=function(i){if(typeof i.validator=="function")return i.validator;var n=Object.keys(i),a=n.indexOf("message");return a!==-1&&n.splice(a,1),n.length===1&&n[0]==="required"?Ge.required:Ge[this.getType(i)]||void 0},e}();rt.register=function(t,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");Ge[t]=r};rt.warning=Si;rt.messages=Bt;rt.validators=Ge;var ne="'${name}' is not a valid ${type}",nn={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:ne,method:ne,array:ne,object:ne,number:ne,date:ne,boolean:ne,integer:ne,float:ne,regexp:ne,email:ne,url:ne,hex:ne},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function an(e,t){for(var r=e,i=0;i<t.length;i+=1){if(r==null)return;r=r[t[i]]}return r}function on(e){if(Array.isArray(e))return e}function sn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ia(e){return on(e)||Jr(e)||rr(e)||sn()}function ln(e,t,r,i){if(!t.length)return r;var n=ia(t),a=n[0],o=n.slice(1),s;return!e&&typeof a=="number"?s=[]:Array.isArray(e)?s=D(e):s=I({},e),i&&r===void 0&&o.length===1?delete s[a][o[0]]:s[a]=ln(s[a],o,r,i),s}function aa(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return t.length&&i&&r===void 0&&!an(e,t.slice(0,-1))?e:ln(e,t,r,i)}function Vt(e){return Array.isArray(e)?sa(e):re(e)==="object"&&e!==null?oa(e):e}function oa(e){if(Object.getPrototypeOf(e)===Object.prototype){var t={};for(var r in e)t[r]=Vt(e[r]);return t}return e}function sa(e){return e.map(function(t){return Vt(t)})}function Z(e){return qt(e)}function xe(e,t){var r=an(e,t);return r}function Fe(e,t,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,n=aa(e,t,r,i);return n}function Vr(e,t){var r={};return t.forEach(function(i){var n=xe(e,i);r=Fe(r,i,n)}),r}function Ye(e,t){return e&&e.some(function(r){return cn(r,t)})}function Sr(e){return re(e)==="object"&&e!==null&&Object.getPrototypeOf(e)===Object.prototype}function un(e,t){var r=Array.isArray(e)?D(e):I({},e);return t&&Object.keys(t).forEach(function(i){var n=r[i],a=t[i],o=Sr(n)&&Sr(a);r[i]=o?un(n,a||{}):Vt(a)}),r}function ft(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return r.reduce(function(n,a){return un(n,a)},e)}function cn(e,t){return!e||!t||e.length!==t.length?!1:e.every(function(r,i){return t[i]===r})}function la(e,t){if(e===t)return!0;if(!e&&t||e&&!t||!e||!t||re(e)!=="object"||re(t)!=="object")return!1;var r=Object.keys(e),i=Object.keys(t),n=new Set([].concat(r,i));return D(n).every(function(a){var o=e[a],s=t[a];return typeof o=="function"&&typeof s=="function"?!0:o===s})}function ua(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&re(t.target)==="object"&&e in t.target?t.target[e]:t}function kr(e,t,r){var i=e.length;if(t<0||t>=i||r<0||r>=i)return e;var n=e[t],a=t-r;return a>0?[].concat(D(e.slice(0,r)),[n],D(e.slice(r,t)),D(e.slice(t+1,i))):a<0?[].concat(D(e.slice(0,t)),D(e.slice(t+1,r+1)),[n],D(e.slice(r+1,i))):e}var ca=rt;function fa(e,t){return e.replace(/\$\{\w+\}/g,function(r){var i=r.slice(2,-1);return t[i]})}var $r="CODE_LOGIC_ERROR";function zt(e,t,r,i,n){return Kt.apply(this,arguments)}function Kt(){return Kt=At(ye().mark(function e(t,r,i,n,a){var o,s,l,u,c,f,m,y,v;return ye().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return o=I({},i),delete o.ruleIndex,o.validator&&(s=o.validator,o.validator=function(){try{return s.apply(void 0,arguments)}catch(g){return console.error(g),Promise.reject($r)}}),l=null,o&&o.type==="array"&&o.defaultField&&(l=o.defaultField,delete o.defaultField),u=new ca(Ze({},t,[o])),c=ft({},nn,n.validateMessages),u.messages(c),f=[],h.prev=9,h.next=12,Promise.resolve(u.validate(Ze({},t,r),I({},n)));case 12:h.next=17;break;case 14:h.prev=14,h.t0=h.catch(9),h.t0.errors&&(f=h.t0.errors.map(function(g,w){var p=g.message,F=p===$r?c.default:p;return P.isValidElement(F)?P.cloneElement(F,{key:"error_".concat(w)}):F}));case 17:if(!(!f.length&&l)){h.next=22;break}return h.next=20,Promise.all(r.map(function(g,w){return zt("".concat(t,".").concat(w),g,l,n,a)}));case 20:return m=h.sent,h.abrupt("return",m.reduce(function(g,w){return[].concat(D(g),D(w))},[]));case 22:return y=I(I({},i),{},{name:t,enum:(i.enum||[]).join(", ")},a),v=f.map(function(g){return typeof g=="string"?fa(g,y):g}),h.abrupt("return",v);case 25:case"end":return h.stop()}},e,null,[[9,14]])})),Kt.apply(this,arguments)}function da(e,t,r,i,n,a){var o=e.join("."),s=r.map(function(c,f){var m=c.validator,y=I(I({},c),{},{ruleIndex:f});return m&&(y.validator=function(v,d,h){var g=!1,w=function(){for(var O=arguments.length,C=new Array(O),A=0;A<O;A++)C[A]=arguments[A];Promise.resolve().then(function(){fe(!g,"Your validator function has already return a promise. `callback` will be ignored."),g||h.apply(void 0,C)})},p=m(v,d,w);g=p&&typeof p.then=="function"&&typeof p.catch=="function",fe(g,"`callback` is deprecated. Please return a promise instead."),g&&p.then(function(){h()}).catch(function(F){h(F||" ")})}),y}).sort(function(c,f){var m=c.warningOnly,y=c.ruleIndex,v=f.warningOnly,d=f.ruleIndex;return!!m==!!v?y-d:m?1:-1}),l;if(n===!0)l=new Promise(function(){var c=At(ye().mark(function f(m,y){var v,d,h;return ye().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:v=0;case 1:if(!(v<s.length)){w.next=12;break}return d=s[v],w.next=5,zt(o,t,d,i,a);case 5:if(h=w.sent,!h.length){w.next=9;break}return y([{errors:h,rule:d}]),w.abrupt("return");case 9:v+=1,w.next=1;break;case 12:m([]);case 13:case"end":return w.stop()}},f)}));return function(f,m){return c.apply(this,arguments)}}());else{var u=s.map(function(c){return zt(o,t,c,i,a).then(function(f){return{errors:f,rule:c}})});l=(n?ma(u):ga(u)).then(function(c){return Promise.reject(c)})}return l.catch(function(c){return c}),l}function ga(e){return Gt.apply(this,arguments)}function Gt(){return Gt=At(ye().mark(function e(t){return ye().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Promise.all(t).then(function(n){var a,o=(a=[]).concat.apply(a,D(n));return o}));case 1:case"end":return i.stop()}},e)})),Gt.apply(this,arguments)}function ma(e){return Yt.apply(this,arguments)}function Yt(){return Yt=At(ye().mark(function e(t){var r;return ye().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=0,n.abrupt("return",new Promise(function(a){t.forEach(function(o){o.then(function(s){s.errors.length&&a([s]),r+=1,r===t.length&&a([])})})}));case 2:case"end":return n.stop()}},e)})),Yt.apply(this,arguments)}var ha=["name"],oe=[];function Mr(e,t,r,i,n,a){return typeof e=="function"?e(t,r,"source"in a?{source:a.source}:{}):i!==n}var sr=function(e){hi(r,e);var t=pi(r);function r(i){var n;if(nr(this,r),n=t.call(this,i),n.state={resetCount:0},n.cancelRegisterFunc=null,n.mounted=!1,n.touched=!1,n.dirty=!1,n.validatePromise=null,n.prevValidating=void 0,n.errors=oe,n.warnings=oe,n.cancelRegister=function(){var l=n.props,u=l.preserve,c=l.isListField,f=l.name;n.cancelRegisterFunc&&n.cancelRegisterFunc(c,u,Z(f)),n.cancelRegisterFunc=null},n.getNamePath=function(){var l=n.props,u=l.name,c=l.fieldContext,f=c.prefixName,m=f===void 0?[]:f;return u!==void 0?[].concat(D(m),D(u)):[]},n.getRules=function(){var l=n.props,u=l.rules,c=u===void 0?[]:u,f=l.fieldContext;return c.map(function(m){return typeof m=="function"?m(f):m})},n.refresh=function(){n.mounted&&n.setState(function(l){var u=l.resetCount;return{resetCount:u+1}})},n.triggerMetaEvent=function(l){var u=n.props.onMetaChange;u==null||u(I(I({},n.getMeta()),{},{destroy:l}))},n.onStoreChange=function(l,u,c){var f=n.props,m=f.shouldUpdate,y=f.dependencies,v=y===void 0?[]:y,d=f.onReset,h=c.store,g=n.getNamePath(),w=n.getValue(l),p=n.getValue(h),F=u&&Ye(u,g);switch(c.type==="valueUpdate"&&c.source==="external"&&w!==p&&(n.touched=!0,n.dirty=!0,n.validatePromise=null,n.errors=oe,n.warnings=oe,n.triggerMetaEvent()),c.type){case"reset":if(!u||F){n.touched=!1,n.dirty=!1,n.validatePromise=null,n.errors=oe,n.warnings=oe,n.triggerMetaEvent(),d==null||d(),n.refresh();return}break;case"remove":{if(m){n.reRender();return}break}case"setField":{if(F){var O=c.data;"touched"in O&&(n.touched=O.touched),"validating"in O&&!("originRCField"in O)&&(n.validatePromise=O.validating?Promise.resolve([]):null),"errors"in O&&(n.errors=O.errors||oe),"warnings"in O&&(n.warnings=O.warnings||oe),n.dirty=!0,n.triggerMetaEvent(),n.reRender();return}if(m&&!g.length&&Mr(m,l,h,w,p,c)){n.reRender();return}break}case"dependenciesUpdate":{var C=v.map(Z);if(C.some(function(A){return Ye(c.relatedFields,A)})){n.reRender();return}break}default:if(F||(!v.length||g.length||m)&&Mr(m,l,h,w,p,c)){n.reRender();return}break}m===!0&&n.reRender()},n.validateRules=function(l){var u=n.getNamePath(),c=n.getValue(),f=Promise.resolve().then(function(){if(!n.mounted)return[];var m=n.props,y=m.validateFirst,v=y===void 0?!1:y,d=m.messageVariables,h=l||{},g=h.triggerName,w=n.getRules();g&&(w=w.filter(function(F){return F}).filter(function(F){var O=F.validateTrigger;if(!O)return!0;var C=qt(O);return C.includes(g)}));var p=da(u,c,w,l,v,d);return p.catch(function(F){return F}).then(function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:oe;if(n.validatePromise===f){var O;n.validatePromise=null;var C=[],A=[];(O=F.forEach)===null||O===void 0||O.call(F,function(V){var $=V.rule.warningOnly,N=V.errors,K=N===void 0?oe:N;$?A.push.apply(A,D(K)):C.push.apply(C,D(K))}),n.errors=C,n.warnings=A,n.triggerMetaEvent(),n.reRender()}}),p});return n.validatePromise=f,n.dirty=!0,n.errors=oe,n.warnings=oe,n.triggerMetaEvent(),n.reRender(),f},n.isFieldValidating=function(){return!!n.validatePromise},n.isFieldTouched=function(){return n.touched},n.isFieldDirty=function(){if(n.dirty||n.props.initialValue!==void 0)return!0;var l=n.props.fieldContext,u=l.getInternalHooks(Se),c=u.getInitialValue;return c(n.getNamePath())!==void 0},n.getErrors=function(){return n.errors},n.getWarnings=function(){return n.warnings},n.isListField=function(){return n.props.isListField},n.isList=function(){return n.props.isList},n.isPreserve=function(){return n.props.preserve},n.getMeta=function(){n.prevValidating=n.isFieldValidating();var l={touched:n.isFieldTouched(),validating:n.prevValidating,errors:n.errors,warnings:n.warnings,name:n.getNamePath()};return l},n.getOnlyChild=function(l){if(typeof l=="function"){var u=n.getMeta();return I(I({},n.getOnlyChild(l(n.getControlled(),u,n.props.fieldContext))),{},{isFunction:!0})}var c=Tt(l);return c.length!==1||!P.isValidElement(c[0])?{child:c,isFunction:!1}:{child:c[0],isFunction:!1}},n.getValue=function(l){var u=n.props.fieldContext.getFieldsValue,c=n.getNamePath();return xe(l||u(!0),c)},n.getControlled=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=n.props,c=u.trigger,f=u.validateTrigger,m=u.getValueFromEvent,y=u.normalize,v=u.valuePropName,d=u.getValueProps,h=u.fieldContext,g=f!==void 0?f:h.validateTrigger,w=n.getNamePath(),p=h.getInternalHooks,F=h.getFieldsValue,O=p(Se),C=O.dispatch,A=n.getValue(),V=d||function(_){return Ze({},v,_)},$=l[c],N=I(I({},l),V(A));N[c]=function(){n.touched=!0,n.dirty=!0,n.triggerMetaEvent();for(var _,W=arguments.length,L=new Array(W),G=0;G<W;G++)L[G]=arguments[G];m?_=m.apply(void 0,L):_=ua.apply(void 0,[v].concat(L)),y&&(_=y(_,A,F(!0))),C({type:"updateValue",namePath:w,value:_}),$&&$.apply(void 0,L)};var K=qt(g||[]);return K.forEach(function(_){var W=N[_];N[_]=function(){W&&W.apply(void 0,arguments);var L=n.props.rules;L&&L.length&&C({type:"validateField",namePath:w,triggerName:_})}}),N},i.fieldContext){var a=i.fieldContext.getInternalHooks,o=a(Se),s=o.initEntityValue;s(Hr(n))}return n}return ir(r,[{key:"componentDidMount",value:function(){var n=this.props,a=n.shouldUpdate,o=n.fieldContext;if(this.mounted=!0,o){var s=o.getInternalHooks,l=s(Se),u=l.registerField;this.cancelRegisterFunc=u(this)}a===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var n=this.state.resetCount,a=this.props.children,o=this.getOnlyChild(a),s=o.child,l=o.isFunction,u;return l?u=s:P.isValidElement(s)?u=P.cloneElement(s,this.getControlled(s.props)):(fe(!s,"`children` of Field is not validate ReactElement."),u=s),P.createElement(P.Fragment,{key:n},u)}}]),r}(P.Component);sr.contextType=Me;sr.defaultProps={trigger:"onChange",valuePropName:"value"};function lr(e){var t=e.name,r=tr(e,ha),i=P.useContext(Me),n=t!==void 0?Z(t):void 0,a="keep";return r.isListField||(a="_".concat((n||[]).join("_"))),P.createElement(sr,Br({key:a,name:n},r,{fieldContext:i}))}var va=P.createContext(null),fn=function(t){var r=t.name,i=t.initialValue,n=t.children,a=t.rules,o=t.validateTrigger,s=P.useContext(Me),l=P.useRef({keys:[],id:0}),u=l.current,c=P.useMemo(function(){var v=Z(s.prefixName)||[];return[].concat(D(v),D(Z(r)))},[s.prefixName,r]),f=P.useMemo(function(){return I(I({},s),{},{prefixName:c})},[s,c]),m=P.useMemo(function(){return{getKey:function(d){var h=c.length,g=d[h];return[u.keys[g],d.slice(h+1)]}}},[c]);if(typeof n!="function")return fe(!1,"Form.List only accepts function as children."),null;var y=function(d,h,g){var w=g.source;return w==="internal"?!1:d!==h};return P.createElement(va.Provider,{value:m},P.createElement(Me.Provider,{value:f},P.createElement(lr,{name:[],shouldUpdate:y,rules:a,validateTrigger:o,initialValue:i,isList:!0},function(v,d){var h=v.value,g=h===void 0?[]:h,w=v.onChange,p=s.getFieldValue,F=function(){var V=p(c||[]);return V||[]},O={add:function(V,$){var N=F();$>=0&&$<=N.length?(u.keys=[].concat(D(u.keys.slice(0,$)),[u.id],D(u.keys.slice($))),w([].concat(D(N.slice(0,$)),[V],D(N.slice($))))):(u.keys=[].concat(D(u.keys),[u.id]),w([].concat(D(N),[V]))),u.id+=1},remove:function(V){var $=F(),N=new Set(Array.isArray(V)?V:[V]);N.size<=0||(u.keys=u.keys.filter(function(K,_){return!N.has(_)}),w($.filter(function(K,_){return!N.has(_)})))},move:function(V,$){if(V!==$){var N=F();V<0||V>=N.length||$<0||$>=N.length||(u.keys=kr(u.keys,V,$),w(kr(N,V,$)))}}},C=g||[];return Array.isArray(C)||(C=[]),n(C.map(function(A,V){var $=u.keys[V];return $===void 0&&(u.keys[V]=u.id,$=u.keys[V],u.id+=1),{name:V,key:$,isListField:!0}}),O,d)})))};function pa(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,n,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(i=a.call(r)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(c){u=!0,n=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw n}}return s}}function Xe(e,t){return on(e)||pa(e,t)||rr(e,t)||sn()}function ya(e){var t=!1,r=e.length,i=[];return e.length?new Promise(function(n,a){e.forEach(function(o,s){o.catch(function(l){return t=!0,l}).then(function(l){r-=1,i[s]=l,!(r>0)&&(t&&a(i),n(i))})})}):Promise.resolve([])}var dn="__@field_split__";function $t(e){return e.map(function(t){return"".concat(re(t),":").concat(t)}).join(dn)}var Ne=function(){function e(){nr(this,e),this.kvs=new Map}return ir(e,[{key:"set",value:function(r,i){this.kvs.set($t(r),i)}},{key:"get",value:function(r){return this.kvs.get($t(r))}},{key:"update",value:function(r,i){var n=this.get(r),a=i(n);a?this.set(r,a):this.delete(r)}},{key:"delete",value:function(r){this.kvs.delete($t(r))}},{key:"map",value:function(r){return D(this.kvs.entries()).map(function(i){var n=Xe(i,2),a=n[0],o=n[1],s=a.split(dn);return r({key:s.map(function(l){var u=l.match(/^([^:]*):(.*)$/),c=Xe(u,3),f=c[1],m=c[2];return f==="number"?Number(m):m}),value:o})})}},{key:"toJSON",value:function(){var r={};return this.map(function(i){var n=i.key,a=i.value;return r[n.join(".")]=a,null}),r}}]),e}(),ba=["name","errors"],wa=ir(function e(t){var r=this;nr(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:r.getFieldValue,getFieldsValue:r.getFieldsValue,getFieldError:r.getFieldError,getFieldWarning:r.getFieldWarning,getFieldsError:r.getFieldsError,isFieldsTouched:r.isFieldsTouched,isFieldTouched:r.isFieldTouched,isFieldValidating:r.isFieldValidating,isFieldsValidating:r.isFieldsValidating,resetFields:r.resetFields,setFields:r.setFields,setFieldValue:r.setFieldValue,setFieldsValue:r.setFieldsValue,validateFields:r.validateFields,submit:r.submit,_init:!0,getInternalHooks:r.getInternalHooks}},this.getInternalHooks=function(i){return i===Se?(r.formHooked=!0,{dispatch:r.dispatch,initEntityValue:r.initEntityValue,registerField:r.registerField,useSubscribe:r.useSubscribe,setInitialValues:r.setInitialValues,destroyForm:r.destroyForm,setCallbacks:r.setCallbacks,setValidateMessages:r.setValidateMessages,getFields:r.getFields,setPreserve:r.setPreserve,getInitialValue:r.getInitialValue,registerWatch:r.registerWatch}):(fe(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(i){r.subscribable=i},this.prevWithoutPreserves=null,this.setInitialValues=function(i,n){if(r.initialValues=i||{},n){var a,o=ft({},i,r.store);(a=r.prevWithoutPreserves)===null||a===void 0||a.map(function(s){var l=s.key;o=Fe(o,l,xe(i,l))}),r.prevWithoutPreserves=null,r.updateStore(o)}},this.destroyForm=function(){var i=new Ne;r.getFieldEntities(!0).forEach(function(n){r.isMergedPreserve(n.isPreserve())||i.set(n.getNamePath(),!0)}),r.prevWithoutPreserves=i},this.getInitialValue=function(i){var n=xe(r.initialValues,i);return i.length?Vt(n):n},this.setCallbacks=function(i){r.callbacks=i},this.setValidateMessages=function(i){r.validateMessages=i},this.setPreserve=function(i){r.preserve=i},this.watchList=[],this.registerWatch=function(i){return r.watchList.push(i),function(){r.watchList=r.watchList.filter(function(n){return n!==i})}},this.notifyWatch=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(r.watchList.length){var n=r.getFieldsValue();r.watchList.forEach(function(a){a(n,i)})}},this.timeoutId=null,this.warningUnhooked=function(){},this.updateStore=function(i){r.store=i},this.getFieldEntities=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return i?r.fieldEntities.filter(function(n){return n.getNamePath().length}):r.fieldEntities},this.getFieldsMap=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=new Ne;return r.getFieldEntities(i).forEach(function(a){var o=a.getNamePath();n.set(o,a)}),n},this.getFieldEntitiesForNamePathList=function(i){if(!i)return r.getFieldEntities(!0);var n=r.getFieldsMap(!0);return i.map(function(a){var o=Z(a);return n.get(o)||{INVALIDATE_NAME_PATH:Z(a)}})},this.getFieldsValue=function(i,n){if(r.warningUnhooked(),i===!0&&!n)return r.store;var a=r.getFieldEntitiesForNamePathList(Array.isArray(i)?i:null),o=[];return a.forEach(function(s){var l,u="INVALIDATE_NAME_PATH"in s?s.INVALIDATE_NAME_PATH:s.getNamePath();if(!(!i&&(!((l=s.isListField)===null||l===void 0)&&l.call(s))))if(!n)o.push(u);else{var c="getMeta"in s?s.getMeta():null;n(c)&&o.push(u)}}),Vr(r.store,o.map(Z))},this.getFieldValue=function(i){r.warningUnhooked();var n=Z(i);return xe(r.store,n)},this.getFieldsError=function(i){r.warningUnhooked();var n=r.getFieldEntitiesForNamePathList(i);return n.map(function(a,o){return a&&!("INVALIDATE_NAME_PATH"in a)?{name:a.getNamePath(),errors:a.getErrors(),warnings:a.getWarnings()}:{name:Z(i[o]),errors:[],warnings:[]}})},this.getFieldError=function(i){r.warningUnhooked();var n=Z(i),a=r.getFieldsError([n])[0];return a.errors},this.getFieldWarning=function(i){r.warningUnhooked();var n=Z(i),a=r.getFieldsError([n])[0];return a.warnings},this.isFieldsTouched=function(){r.warningUnhooked();for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];var o=n[0],s=n[1],l,u=!1;n.length===0?l=null:n.length===1?Array.isArray(o)?(l=o.map(Z),u=!1):(l=null,u=o):(l=o.map(Z),u=s);var c=r.getFieldEntities(!0),f=function(h){return h.isFieldTouched()};if(!l)return u?c.every(f):c.some(f);var m=new Ne;l.forEach(function(d){m.set(d,[])}),c.forEach(function(d){var h=d.getNamePath();l.forEach(function(g){g.every(function(w,p){return h[p]===w})&&m.update(g,function(w){return[].concat(D(w),[d])})})});var y=function(h){return h.some(f)},v=m.map(function(d){var h=d.value;return h});return u?v.every(y):v.some(y)},this.isFieldTouched=function(i){return r.warningUnhooked(),r.isFieldsTouched([i])},this.isFieldsValidating=function(i){r.warningUnhooked();var n=r.getFieldEntities();if(!i)return n.some(function(o){return o.isFieldValidating()});var a=i.map(Z);return n.some(function(o){var s=o.getNamePath();return Ye(a,s)&&o.isFieldValidating()})},this.isFieldValidating=function(i){return r.warningUnhooked(),r.isFieldsValidating([i])},this.resetWithFieldInitialValue=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=new Ne,a=r.getFieldEntities(!0);a.forEach(function(l){var u=l.props.initialValue,c=l.getNamePath();if(u!==void 0){var f=n.get(c)||new Set;f.add({entity:l,value:u}),n.set(c,f)}});var o=function(u){u.forEach(function(c){var f=c.props.initialValue;if(f!==void 0){var m=c.getNamePath(),y=r.getInitialValue(m);if(y!==void 0)fe(!1,"Form already set 'initialValues' with path '".concat(m.join("."),"'. Field can not overwrite it."));else{var v=n.get(m);if(v&&v.size>1)fe(!1,"Multiple Field with path '".concat(m.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(v){var d=r.getFieldValue(m);(!i.skipExist||d===void 0)&&r.updateStore(Fe(r.store,m,D(v)[0].value))}}}})},s;i.entities?s=i.entities:i.namePathList?(s=[],i.namePathList.forEach(function(l){var u=n.get(l);if(u){var c;(c=s).push.apply(c,D(D(u).map(function(f){return f.entity})))}})):s=a,o(s)},this.resetFields=function(i){r.warningUnhooked();var n=r.store;if(!i){r.updateStore(ft({},r.initialValues)),r.resetWithFieldInitialValue(),r.notifyObservers(n,null,{type:"reset"}),r.notifyWatch();return}var a=i.map(Z);a.forEach(function(o){var s=r.getInitialValue(o);r.updateStore(Fe(r.store,o,s))}),r.resetWithFieldInitialValue({namePathList:a}),r.notifyObservers(n,a,{type:"reset"}),r.notifyWatch(a)},this.setFields=function(i){r.warningUnhooked();var n=r.store,a=[];i.forEach(function(o){var s=o.name;o.errors;var l=tr(o,ba),u=Z(s);a.push(u),"value"in l&&r.updateStore(Fe(r.store,u,l.value)),r.notifyObservers(n,[u],{type:"setField",data:o})}),r.notifyWatch(a)},this.getFields=function(){var i=r.getFieldEntities(!0),n=i.map(function(a){var o=a.getNamePath(),s=a.getMeta(),l=I(I({},s),{},{name:o,value:r.getFieldValue(o)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return n},this.initEntityValue=function(i){var n=i.props.initialValue;if(n!==void 0){var a=i.getNamePath(),o=xe(r.store,a);o===void 0&&r.updateStore(Fe(r.store,a,n))}},this.isMergedPreserve=function(i){var n=i!==void 0?i:r.preserve;return n??!0},this.registerField=function(i){r.fieldEntities.push(i);var n=i.getNamePath();if(r.notifyWatch([n]),i.props.initialValue!==void 0){var a=r.store;r.resetWithFieldInitialValue({entities:[i],skipExist:!0}),r.notifyObservers(a,[i.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(o,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(r.fieldEntities=r.fieldEntities.filter(function(f){return f!==i}),!r.isMergedPreserve(s)&&(!o||l.length>1)){var u=o?void 0:r.getInitialValue(n);if(n.length&&r.getFieldValue(n)!==u&&r.fieldEntities.every(function(f){return!cn(f.getNamePath(),n)})){var c=r.store;r.updateStore(Fe(c,n,u,!0)),r.notifyObservers(c,[n],{type:"remove"}),r.triggerDependenciesUpdate(c,n)}}r.notifyWatch([n])}},this.dispatch=function(i){switch(i.type){case"updateValue":{var n=i.namePath,a=i.value;r.updateValue(n,a);break}case"validateField":{var o=i.namePath,s=i.triggerName;r.validateFields([o],{triggerName:s});break}}},this.notifyObservers=function(i,n,a){if(r.subscribable){var o=I(I({},a),{},{store:r.getFieldsValue(!0)});r.getFieldEntities().forEach(function(s){var l=s.onStoreChange;l(i,n,o)})}else r.forceRootUpdate()},this.triggerDependenciesUpdate=function(i,n){var a=r.getDependencyChildrenFields(n);return a.length&&r.validateFields(a),r.notifyObservers(i,a,{type:"dependenciesUpdate",relatedFields:[n].concat(D(a))}),a},this.updateValue=function(i,n){var a=Z(i),o=r.store;r.updateStore(Fe(r.store,a,n)),r.notifyObservers(o,[a],{type:"valueUpdate",source:"internal"}),r.notifyWatch([a]);var s=r.triggerDependenciesUpdate(o,a),l=r.callbacks.onValuesChange;if(l){var u=Vr(r.store,[a]);l(u,r.getFieldsValue())}r.triggerOnFieldsChange([a].concat(D(s)))},this.setFieldsValue=function(i){r.warningUnhooked();var n=r.store;if(i){var a=ft(r.store,i);r.updateStore(a)}r.notifyObservers(n,null,{type:"valueUpdate",source:"external"}),r.notifyWatch()},this.setFieldValue=function(i,n){r.setFields([{name:i,value:n}])},this.getDependencyChildrenFields=function(i){var n=new Set,a=[],o=new Ne;r.getFieldEntities().forEach(function(l){var u=l.props.dependencies;(u||[]).forEach(function(c){var f=Z(c);o.update(f,function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return m.add(l),m})})});var s=function l(u){var c=o.get(u)||new Set;c.forEach(function(f){if(!n.has(f)){n.add(f);var m=f.getNamePath();f.isFieldDirty()&&m.length&&(a.push(m),l(m))}})};return s(i),a},this.triggerOnFieldsChange=function(i,n){var a=r.callbacks.onFieldsChange;if(a){var o=r.getFields();if(n){var s=new Ne;n.forEach(function(u){var c=u.name,f=u.errors;s.set(c,f)}),o.forEach(function(u){u.errors=s.get(u.name)||u.errors})}var l=o.filter(function(u){var c=u.name;return Ye(i,c)});a(l,o)}},this.validateFields=function(i,n){r.warningUnhooked();var a=!!i,o=a?i.map(Z):[],s=[];r.getFieldEntities(!0).forEach(function(c){if(a||o.push(c.getNamePath()),n!=null&&n.recursive&&a){var f=c.getNamePath();f.every(function(v,d){return i[d]===v||i[d]===void 0})&&o.push(f)}if(!(!c.props.rules||!c.props.rules.length)){var m=c.getNamePath();if(!a||Ye(o,m)){var y=c.validateRules(I({validateMessages:I(I({},nn),r.validateMessages)},n));s.push(y.then(function(){return{name:m,errors:[],warnings:[]}}).catch(function(v){var d,h=[],g=[];return(d=v.forEach)===null||d===void 0||d.call(v,function(w){var p=w.rule.warningOnly,F=w.errors;p?g.push.apply(g,D(F)):h.push.apply(h,D(F))}),h.length?Promise.reject({name:m,errors:h,warnings:g}):{name:m,errors:h,warnings:g}}))}}});var l=ya(s);r.lastValidatePromise=l,l.catch(function(c){return c}).then(function(c){var f=c.map(function(m){var y=m.name;return y});r.notifyObservers(r.store,f,{type:"validateFinish"}),r.triggerOnFieldsChange(f,c)});var u=l.then(function(){return r.lastValidatePromise===l?Promise.resolve(r.getFieldsValue(o)):Promise.reject([])}).catch(function(c){var f=c.filter(function(m){return m&&m.errors.length});return Promise.reject({values:r.getFieldsValue(o),errorFields:f,outOfDate:r.lastValidatePromise!==l})});return u.catch(function(c){return c}),u},this.submit=function(){r.warningUnhooked(),r.validateFields().then(function(i){var n=r.callbacks.onFinish;if(n)try{n(i)}catch(a){console.error(a)}}).catch(function(i){var n=r.callbacks.onFinishFailed;n&&n(i)})},this.forceRootUpdate=t});function ur(e){var t=P.useRef(),r=P.useState({}),i=Xe(r,2),n=i[1];if(!t.current)if(e)t.current=e;else{var a=function(){n({})},o=new wa(a);t.current=o.getForm()}return[t.current]}var Zt=P.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Fa=function(t){var r=t.validateMessages,i=t.onFormChange,n=t.onFormFinish,a=t.children,o=P.useContext(Zt),s=P.useRef({});return P.createElement(Zt.Provider,{value:I(I({},o),{},{validateMessages:I(I({},o.validateMessages),r),triggerFormChange:function(u,c){i&&i(u,{changedFields:c,forms:s.current}),o.triggerFormChange(u,c)},triggerFormFinish:function(u,c){n&&n(u,{values:c,forms:s.current}),o.triggerFormFinish(u,c)},registerForm:function(u,c){u&&(s.current=I(I({},s.current),{},Ze({},u,c))),o.registerForm(u,c)},unregisterForm:function(u){var c=I({},s.current);delete c[u],s.current=c,o.unregisterForm(u)}})},a)},xa=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],Ea=function(t,r){var i=t.name,n=t.initialValues,a=t.fields,o=t.form,s=t.preserve,l=t.children,u=t.component,c=u===void 0?"form":u,f=t.validateMessages,m=t.validateTrigger,y=m===void 0?"onChange":m,v=t.onValuesChange,d=t.onFieldsChange,h=t.onFinish,g=t.onFinishFailed,w=tr(t,xa),p=P.useContext(Zt),F=ur(o),O=Xe(F,1),C=O[0],A=C.getInternalHooks(Se),V=A.useSubscribe,$=A.setInitialValues,N=A.setCallbacks,K=A.setValidateMessages,_=A.setPreserve,W=A.destroyForm;P.useImperativeHandle(r,function(){return C}),P.useEffect(function(){return p.registerForm(i,C),function(){p.unregisterForm(i)}},[p,C,i]),K(I(I({},p.validateMessages),f)),N({onValuesChange:v,onFieldsChange:function(j){if(p.triggerFormChange(i,j),d){for(var q=arguments.length,H=new Array(q>1?q-1:0),Y=1;Y<q;Y++)H[Y-1]=arguments[Y];d.apply(void 0,[j].concat(H))}},onFinish:function(j){p.triggerFormFinish(i,j),h&&h(j)},onFinishFailed:g}),_(s);var L=P.useRef(null);$(n,!L.current),L.current||(L.current=!0),P.useEffect(function(){return W},[]);var G,x=typeof l=="function";if(x){var b=C.getFieldsValue(!0);G=l(b,C)}else G=l;V(!x);var E=P.useRef();P.useEffect(function(){la(E.current||[],a||[])||C.setFields(a||[]),E.current=a},[a,C]);var S=P.useMemo(function(){return I(I({},C),{},{validateTrigger:y})},[C,y]),M=P.createElement(Me.Provider,{value:S},G);return c===!1?M:P.createElement(c,Br({},w,{onSubmit:function(j){j.preventDefault(),j.stopPropagation(),C.submit()},onReset:function(j){var q;j.preventDefault(),C.resetFields(),(q=w.onReset)===null||q===void 0||q.call(w,j)}}),M)};function _r(e){try{return JSON.stringify(e)}catch{return Math.random()}}function cr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],n=i===void 0?[]:i,a=t[1],o=P.useState(),s=Xe(o,2),l=s[0],u=s[1],c=P.useMemo(function(){return _r(l)},[l]),f=P.useRef(c);f.current=c;var m=P.useContext(Me),y=a||m,v=y&&y._init,d=Z(n),h=P.useRef(d);return h.current=d,P.useEffect(function(){if(v){var g=y.getFieldsValue,w=y.getInternalHooks,p=w(Se),F=p.registerWatch,O=F(function(A){var V=xe(A,h.current),$=_r(V);f.current!==$&&(f.current=$,u(V))}),C=xe(g(),h.current);return u(C),O}},[v]),l}var Oa=P.forwardRef(Ea),Ue=Oa;Ue.FormProvider=Fa;Ue.Field=lr;Ue.List=fn;Ue.useForm=ur;Ue.useWatch=cr;const gn={name:void 0,hasFeedback:!0,layout:"vertical",requiredMarkStyle:"asterisk",disabled:!1},fr=R.createContext(gn),jr=R.createContext(null),mn=()=>null;var Pa=function(t){return Ca(t)&&!Ra(t)};function Ca(e){return!!e&&typeof e=="object"}function Ra(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||Sa(e)}var Aa=typeof Symbol=="function"&&Symbol.for,Va=Aa?Symbol.for("react.element"):60103;function Sa(e){return e.$$typeof===Va}function ka(e){return Array.isArray(e)?[]:{}}function Qe(e,t){return t.clone!==!1&&t.isMergeableObject(e)?qe(ka(e),e,t):e}function $a(e,t,r){return e.concat(t).map(function(i){return Qe(i,r)})}function Ma(e,t){if(!t.customMerge)return qe;var r=t.customMerge(e);return typeof r=="function"?r:qe}function _a(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function Nr(e){return Object.keys(e).concat(_a(e))}function hn(e,t){try{return t in e}catch{return!1}}function ja(e,t){return hn(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function Na(e,t,r){var i={};return r.isMergeableObject(e)&&Nr(e).forEach(function(n){i[n]=Qe(e[n],r)}),Nr(t).forEach(function(n){ja(e,n)||(hn(e,n)&&r.isMergeableObject(t[n])?i[n]=Ma(n,r)(e[n],t[n],r):i[n]=Qe(t[n],r))}),i}function qe(e,t,r){r=r||{},r.arrayMerge=r.arrayMerge||$a,r.isMergeableObject=r.isMergeableObject||Pa,r.cloneUnlessOtherwiseSpecified=Qe;var i=Array.isArray(t),n=Array.isArray(e),a=i===n;return a?i?r.arrayMerge(e,t,r):Na(e,t,r):Qe(t,r)}qe.all=function(t,r){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(i,n){return qe(i,n,r)},{})};var La=qe,Ta=La;const Ia=Ln(Ta),vn=e=>R.createElement(fn,{name:e.name,initialValue:e.initialValue},(t,r)=>{const i=t.map(a=>({index:a.name,key:a.key})),n=e.children(i,r).map((a,o)=>{var s;return R.createElement(Ke,{key:i[o].key,mode:"card",header:(s=e.renderHeader)===null||s===void 0?void 0:s.call(e,i[o],r)},a)});return e.renderAdd&&n.push(R.createElement(Ke,{key:"add",mode:"card"},R.createElement(Ke.Item,{className:"adm-form-list-operation",onClick:()=>{e.onAdd?e.onAdd(r):r.add()},arrow:!1},e.renderAdd()))),R.createElement(R.Fragment,null,n)}),Lr="adm-form",qa=gn,Da=P.forwardRef((e,t)=>{const r=zr(qa,e),{className:i,style:n,hasFeedback:a,children:o,layout:s,footer:l,mode:u,disabled:c,requiredMarkStyle:f}=r,m=Kr(r,["className","style","hasFeedback","children","layout","footer","mode","disabled","requiredMarkStyle"]),{locale:y}=Gr(),v=P.useMemo(()=>Ia(y.Form.defaultValidateMessages,m.validateMessages||{}),[y.Form.defaultValidateMessages,m.validateMessages]),d=[];let h=null,g=[],w=0;function p(){g.length!==0&&(w+=1,d.push(R.createElement(Ke,{header:h,key:w,mode:u},g)),g=[])}return Wn(r.children,F=>{if(R.isValidElement(F)){if(F.type===mn){p(),h=F.props.children;return}if(F.type===vn){p(),d.push(F);return}}g.push(F)}),p(),R.createElement(Ue,Object.assign({className:Ee(Lr,i),style:n,ref:t},m,{validateMessages:v}),R.createElement(fr.Provider,{value:{name:m.name,hasFeedback:a,layout:s,requiredMarkStyle:f,disabled:c}},d),l&&R.createElement("div",{className:`${Lr}-footer`},l))});var et={},pn={exports:{}},yn={exports:{}};(function(e){function t(r){"@babel/helpers - typeof";return e.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(yn);var Wa=yn.exports;(function(e){var t=Wa.default;function r(n){if(typeof WeakMap!="function")return null;var a=new WeakMap,o=new WeakMap;return(r=function(l){return l?o:a})(n)}function i(n,a){if(!a&&n&&n.__esModule)return n;if(n===null||t(n)!="object"&&typeof n!="function")return{default:n};var o=r(a);if(o&&o.has(n))return o.get(n);var s={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in n)if(u!=="default"&&{}.hasOwnProperty.call(n,u)){var c=l?Object.getOwnPropertyDescriptor(n,u):null;c&&(c.get||c.set)?Object.defineProperty(s,u,c):s[u]=n[u]}return s.default=n,o&&o.set(n,s),s}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports})(pn);var Ua=pn.exports,bn={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(bn);var Ha=bn.exports,le={};Object.defineProperty(le,"__esModule",{value:!0});le.call=dr;le.default=void 0;le.note=Fn;le.noteOnce=En;le.preMessage=void 0;le.resetWarned=xn;le.warning=wn;le.warningOnce=nt;var Jt={},Ba=le.preMessage=function(t){};function wn(e,t){}function Fn(e,t){}function xn(){Jt={}}function dr(e,t,r){!t&&!Jt[r]&&(e(!1,r),Jt[r]=!0)}function nt(e,t){dr(wn,e,t)}function En(e,t){dr(Fn,e,t)}nt.preMessage=Ba;nt.resetWarned=xn;nt.noteOnce=En;le.default=nt;var za=Ua.default,Ka=Ha.default;Object.defineProperty(et,"__esModule",{value:!0});var On=et.default=et.HOOK_MARK=void 0,Ga=Ka(le),Ya=za(P),Za="RC_FORM_INTERNAL_HOOKS";et.HOOK_MARK=Za;var z=function(){(0,Ga.default)(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Ja=Ya.createContext({getFieldValue:z,getFieldsValue:z,getFieldError:z,getFieldWarning:z,getFieldsError:z,isFieldsTouched:z,isFieldTouched:z,isFieldValidating:z,isFieldsValidating:z,resetFields:z,setFields:z,setFieldValue:z,setFieldsValue:z,validateFields:z,submit:z,getInternalHooks:function(){return z(),{dispatch:z,initEntityValue:z,registerField:z,useSubscribe:z,setInitialValues:z,destroyForm:z,setCallbacks:z,registerWatch:z,getFields:z,setValidateMessages:z,setPreserve:z,getInitialValue:z}}}),Xa=Ja;On=et.default=Xa;function Mt(e){return e===void 0||e===!1?[]:Array.isArray(e)?e:[e]}function Qa(e){const t=e.prototype;return!!(t&&t.isReactComponent)}function eo(e){return typeof e=="function"&&!Qa(e)&&e.defaultProps===void 0}function Pn(e){return Fr.isFragment(e)?!1:Fr.isMemo(e)?Pn(e.type):!eo(e.type)}const to=P.memo(e=>pt(e,R.createElement("svg",{viewBox:"0 0 30 16"},R.createElement("g",{fill:"currentColor"},R.createElement("path",{d:"M0,0 L30,0 L18.07289,14.312538 C16.65863,16.009645 14.13637,16.238942 12.43926,14.824685 C12.25341,14.669808 12.08199,14.49839 11.92711,14.312538 L0,0 L0,0 Z"}))))),ro=["top","right","bottom","left"],De=Math.min,$e=Math.max,gt=Math.round,ut=Math.floor,Oe=e=>({x:e,y:e}),no={left:"right",right:"left",bottom:"top",top:"bottom"},io={start:"end",end:"start"};function Xt(e,t,r){return $e(e,De(t,r))}function Pe(e,t){return typeof e=="function"?e(t):e}function Ce(e){return e.split("-")[0]}function it(e){return e.split("-")[1]}function gr(e){return e==="x"?"y":"x"}function mr(e){return e==="y"?"height":"width"}function at(e){return["top","bottom"].includes(Ce(e))?"y":"x"}function hr(e){return gr(at(e))}function ao(e,t,r){r===void 0&&(r=!1);const i=it(e),n=hr(e),a=mr(n);let o=n==="x"?i===(r?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=mt(o)),[o,mt(o)]}function oo(e){const t=mt(e);return[Qt(e),t,Qt(t)]}function Qt(e){return e.replace(/start|end/g,t=>io[t])}function so(e,t,r){const i=["left","right"],n=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?n:i:t?i:n;case"left":case"right":return t?a:o;default:return[]}}function lo(e,t,r,i){const n=it(e);let a=so(Ce(e),r==="start",i);return n&&(a=a.map(o=>o+"-"+n),t&&(a=a.concat(a.map(Qt)))),a}function mt(e){return e.replace(/left|right|bottom|top/g,t=>no[t])}function uo(e){return{top:0,right:0,bottom:0,left:0,...e}}function Cn(e){return typeof e!="number"?uo(e):{top:e,right:e,bottom:e,left:e}}function ht(e){const{x:t,y:r,width:i,height:n}=e;return{width:i,height:n,top:r,left:t,right:t+i,bottom:r+n,x:t,y:r}}function Tr(e,t,r){let{reference:i,floating:n}=e;const a=at(t),o=hr(t),s=mr(o),l=Ce(t),u=a==="y",c=i.x+i.width/2-n.width/2,f=i.y+i.height/2-n.height/2,m=i[s]/2-n[s]/2;let y;switch(l){case"top":y={x:c,y:i.y-n.height};break;case"bottom":y={x:c,y:i.y+i.height};break;case"right":y={x:i.x+i.width,y:f};break;case"left":y={x:i.x-n.width,y:f};break;default:y={x:i.x,y:i.y}}switch(it(t)){case"start":y[o]-=m*(r&&u?-1:1);break;case"end":y[o]+=m*(r&&u?-1:1);break}return y}const co=async(e,t,r)=>{const{placement:i="bottom",strategy:n="absolute",middleware:a=[],platform:o}=r,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:n}),{x:c,y:f}=Tr(u,i,l),m=i,y={},v=0;for(let d=0;d<s.length;d++){const{name:h,fn:g}=s[d],{x:w,y:p,data:F,reset:O}=await g({x:c,y:f,initialPlacement:i,placement:m,strategy:n,middlewareData:y,rects:u,platform:o,elements:{reference:e,floating:t}});c=w??c,f=p??f,y={...y,[h]:{...y[h],...F}},O&&v<=50&&(v++,typeof O=="object"&&(O.placement&&(m=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:n}):O.rects),{x:c,y:f}=Tr(u,m,l)),d=-1)}return{x:c,y:f,placement:m,strategy:n,middlewareData:y}};async function vt(e,t){var r;t===void 0&&(t={});const{x:i,y:n,platform:a,rects:o,elements:s,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:m=!1,padding:y=0}=Pe(t,e),v=Cn(y),h=s[m?f==="floating"?"reference":"floating":f],g=ht(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(h)))==null||r?h:h.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:u,rootBoundary:c,strategy:l})),w=f==="floating"?{x:i,y:n,width:o.floating.width,height:o.floating.height}:o.reference,p=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),F=await(a.isElement==null?void 0:a.isElement(p))?await(a.getScale==null?void 0:a.getScale(p))||{x:1,y:1}:{x:1,y:1},O=ht(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:w,offsetParent:p,strategy:l}):w);return{top:(g.top-O.top+v.top)/F.y,bottom:(O.bottom-g.bottom+v.bottom)/F.y,left:(g.left-O.left+v.left)/F.x,right:(O.right-g.right+v.right)/F.x}}const fo=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:i,placement:n,rects:a,platform:o,elements:s,middlewareData:l}=t,{element:u,padding:c=0}=Pe(e,t)||{};if(u==null)return{};const f=Cn(c),m={x:r,y:i},y=hr(n),v=mr(y),d=await o.getDimensions(u),h=y==="y",g=h?"top":"left",w=h?"bottom":"right",p=h?"clientHeight":"clientWidth",F=a.reference[v]+a.reference[y]-m[y]-a.floating[v],O=m[y]-a.reference[y],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let A=C?C[p]:0;(!A||!await(o.isElement==null?void 0:o.isElement(C)))&&(A=s.floating[p]||a.floating[v]);const V=F/2-O/2,$=A/2-d[v]/2-1,N=De(f[g],$),K=De(f[w],$),_=N,W=A-d[v]-K,L=A/2-d[v]/2+V,G=Xt(_,L,W),x=!l.arrow&&it(n)!=null&&L!==G&&a.reference[v]/2-(L<_?N:K)-d[v]/2<0,b=x?L<_?L-_:L-W:0;return{[y]:m[y]+b,data:{[y]:G,centerOffset:L-G-b,...x&&{alignmentOffset:b}},reset:x}}}),go=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,i;const{placement:n,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:u}=t,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:d=!0,...h}=Pe(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const g=Ce(n),w=Ce(s)===s,p=await(l.isRTL==null?void 0:l.isRTL(u.floating)),F=m||(w||!d?[mt(s)]:oo(s));!m&&v!=="none"&&F.push(...lo(s,d,v,p));const O=[s,...F],C=await vt(t,h),A=[];let V=((i=a.flip)==null?void 0:i.overflows)||[];if(c&&A.push(C[g]),f){const _=ao(n,o,p);A.push(C[_[0]],C[_[1]])}if(V=[...V,{placement:n,overflows:A}],!A.every(_=>_<=0)){var $,N;const _=((($=a.flip)==null?void 0:$.index)||0)+1,W=O[_];if(W)return{data:{index:_,overflows:V},reset:{placement:W}};let L=(N=V.filter(G=>G.overflows[0]<=0).sort((G,x)=>G.overflows[1]-x.overflows[1])[0])==null?void 0:N.placement;if(!L)switch(y){case"bestFit":{var K;const G=(K=V.map(x=>[x.placement,x.overflows.filter(b=>b>0).reduce((b,E)=>b+E,0)]).sort((x,b)=>x[1]-b[1])[0])==null?void 0:K[0];G&&(L=G);break}case"initialPlacement":L=s;break}if(n!==L)return{reset:{placement:L}}}return{}}}};function Ir(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function qr(e){return ro.some(t=>e[t]>=0)}const mo=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:i="referenceHidden",...n}=Pe(e,t);switch(i){case"referenceHidden":{const a=await vt(t,{...n,elementContext:"reference"}),o=Ir(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:qr(o)}}}case"escaped":{const a=await vt(t,{...n,altBoundary:!0}),o=Ir(a,r.floating);return{data:{escapedOffsets:o,escaped:qr(o)}}}default:return{}}}}};async function ho(e,t){const{placement:r,platform:i,elements:n}=e,a=await(i.isRTL==null?void 0:i.isRTL(n.floating)),o=Ce(r),s=it(r),l=at(r)==="y",u=["left","top"].includes(o)?-1:1,c=a&&l?-1:1,f=Pe(t,e);let{mainAxis:m,crossAxis:y,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return s&&typeof v=="number"&&(y=s==="end"?v*-1:v),l?{x:y*c,y:m*u}:{x:m*u,y:y*c}}const vo=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,i;const{x:n,y:a,placement:o,middlewareData:s}=t,l=await ho(t,e);return o===((r=s.offset)==null?void 0:r.placement)&&(i=s.arrow)!=null&&i.alignmentOffset?{}:{x:n+l.x,y:a+l.y,data:{...l,placement:o}}}}},po=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:i,placement:n}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:h=>{let{x:g,y:w}=h;return{x:g,y:w}}},...l}=Pe(e,t),u={x:r,y:i},c=await vt(t,l),f=at(Ce(n)),m=gr(f);let y=u[m],v=u[f];if(a){const h=m==="y"?"top":"left",g=m==="y"?"bottom":"right",w=y+c[h],p=y-c[g];y=Xt(w,y,p)}if(o){const h=f==="y"?"top":"left",g=f==="y"?"bottom":"right",w=v+c[h],p=v-c[g];v=Xt(w,v,p)}const d=s.fn({...t,[m]:y,[f]:v});return{...d,data:{x:d.x-r,y:d.y-i}}}}},yo=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:i,placement:n,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:l=!0,crossAxis:u=!0}=Pe(e,t),c={x:r,y:i},f=at(n),m=gr(f);let y=c[m],v=c[f];const d=Pe(s,t),h=typeof d=="number"?{mainAxis:d,crossAxis:0}:{mainAxis:0,crossAxis:0,...d};if(l){const p=m==="y"?"height":"width",F=a.reference[m]-a.floating[p]+h.mainAxis,O=a.reference[m]+a.reference[p]-h.mainAxis;y<F?y=F:y>O&&(y=O)}if(u){var g,w;const p=m==="y"?"width":"height",F=["top","left"].includes(Ce(n)),O=a.reference[f]-a.floating[p]+(F&&((g=o.offset)==null?void 0:g[f])||0)+(F?0:h.crossAxis),C=a.reference[f]+a.reference[p]+(F?0:((w=o.offset)==null?void 0:w[f])||0)-(F?h.crossAxis:0);v<O?v=O:v>C&&(v=C)}return{[m]:y,[f]:v}}}};function He(e){return Rn(e)?(e.nodeName||"").toLowerCase():"#document"}function ae(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function be(e){var t;return(t=(Rn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Rn(e){return e instanceof Node||e instanceof ae(e).Node}function he(e){return e instanceof Element||e instanceof ae(e).Element}function ve(e){return e instanceof HTMLElement||e instanceof ae(e).HTMLElement}function Dr(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ae(e).ShadowRoot}function ot(e){const{overflow:t,overflowX:r,overflowY:i,display:n}=de(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+r)&&!["inline","contents"].includes(n)}function bo(e){return["table","td","th"].includes(He(e))}function vr(e){const t=pr(),r=de(e);return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(r.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(r.contain||"").includes(i))}function wo(e){let t=Re(e);for(;ve(t)&&!We(t);){if(vr(t))return t;t=Re(t)}return null}function pr(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function We(e){return["html","body","#document"].includes(He(e))}function de(e){return ae(e).getComputedStyle(e)}function St(e){return he(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Re(e){if(He(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Dr(e)&&e.host||be(e);return Dr(t)?t.host:t}function An(e){const t=Re(e);return We(t)?e.ownerDocument?e.ownerDocument.body:e.body:ve(t)&&ot(t)?t:An(t)}function tt(e,t,r){var i;t===void 0&&(t=[]),r===void 0&&(r=!0);const n=An(e),a=n===((i=e.ownerDocument)==null?void 0:i.body),o=ae(n);return a?t.concat(o,o.visualViewport||[],ot(n)?n:[],o.frameElement&&r?tt(o.frameElement):[]):t.concat(n,tt(n,[],r))}function Vn(e){const t=de(e);let r=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const n=ve(e),a=n?e.offsetWidth:r,o=n?e.offsetHeight:i,s=gt(r)!==a||gt(i)!==o;return s&&(r=a,i=o),{width:r,height:i,$:s}}function yr(e){return he(e)?e:e.contextElement}function Te(e){const t=yr(e);if(!ve(t))return Oe(1);const r=t.getBoundingClientRect(),{width:i,height:n,$:a}=Vn(t);let o=(a?gt(r.width):r.width)/i,s=(a?gt(r.height):r.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const Fo=Oe(0);function Sn(e){const t=ae(e);return!pr()||!t.visualViewport?Fo:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function xo(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ae(e)?!1:t}function _e(e,t,r,i){t===void 0&&(t=!1),r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=yr(e);let o=Oe(1);t&&(i?he(i)&&(o=Te(i)):o=Te(e));const s=xo(a,r,i)?Sn(a):Oe(0);let l=(n.left+s.x)/o.x,u=(n.top+s.y)/o.y,c=n.width/o.x,f=n.height/o.y;if(a){const m=ae(a),y=i&&he(i)?ae(i):i;let v=m,d=v.frameElement;for(;d&&i&&y!==v;){const h=Te(d),g=d.getBoundingClientRect(),w=de(d),p=g.left+(d.clientLeft+parseFloat(w.paddingLeft))*h.x,F=g.top+(d.clientTop+parseFloat(w.paddingTop))*h.y;l*=h.x,u*=h.y,c*=h.x,f*=h.y,l+=p,u+=F,v=ae(d),d=v.frameElement}}return ht({width:c,height:f,x:l,y:u})}const Eo=[":popover-open",":modal"];function br(e){return Eo.some(t=>{try{return e.matches(t)}catch{return!1}})}function Oo(e){let{elements:t,rect:r,offsetParent:i,strategy:n}=e;const a=n==="fixed",o=be(i),s=t?br(t.floating):!1;if(i===o||s&&a)return r;let l={scrollLeft:0,scrollTop:0},u=Oe(1);const c=Oe(0),f=ve(i);if((f||!f&&!a)&&((He(i)!=="body"||ot(o))&&(l=St(i)),ve(i))){const m=_e(i);u=Te(i),c.x=m.x+i.clientLeft,c.y=m.y+i.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+c.x,y:r.y*u.y-l.scrollTop*u.y+c.y}}function Po(e){return Array.from(e.getClientRects())}function kn(e){return _e(be(e)).left+St(e).scrollLeft}function Co(e){const t=be(e),r=St(e),i=e.ownerDocument.body,n=$e(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),a=$e(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let o=-r.scrollLeft+kn(e);const s=-r.scrollTop;return de(i).direction==="rtl"&&(o+=$e(t.clientWidth,i.clientWidth)-n),{width:n,height:a,x:o,y:s}}function Ro(e,t){const r=ae(e),i=be(e),n=r.visualViewport;let a=i.clientWidth,o=i.clientHeight,s=0,l=0;if(n){a=n.width,o=n.height;const u=pr();(!u||u&&t==="fixed")&&(s=n.offsetLeft,l=n.offsetTop)}return{width:a,height:o,x:s,y:l}}function Ao(e,t){const r=_e(e,!0,t==="fixed"),i=r.top+e.clientTop,n=r.left+e.clientLeft,a=ve(e)?Te(e):Oe(1),o=e.clientWidth*a.x,s=e.clientHeight*a.y,l=n*a.x,u=i*a.y;return{width:o,height:s,x:l,y:u}}function Wr(e,t,r){let i;if(t==="viewport")i=Ro(e,r);else if(t==="document")i=Co(be(e));else if(he(t))i=Ao(t,r);else{const n=Sn(e);i={...t,x:t.x-n.x,y:t.y-n.y}}return ht(i)}function $n(e,t){const r=Re(e);return r===t||!he(r)||We(r)?!1:de(r).position==="fixed"||$n(r,t)}function Vo(e,t){const r=t.get(e);if(r)return r;let i=tt(e,[],!1).filter(s=>he(s)&&He(s)!=="body"),n=null;const a=de(e).position==="fixed";let o=a?Re(e):e;for(;he(o)&&!We(o);){const s=de(o),l=vr(o);!l&&s.position==="fixed"&&(n=null),(a?!l&&!n:!l&&s.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||ot(o)&&!l&&$n(e,o))?i=i.filter(c=>c!==o):n=s,o=Re(o)}return t.set(e,i),i}function So(e){let{element:t,boundary:r,rootBoundary:i,strategy:n}=e;const o=[...r==="clippingAncestors"?br(t)?[]:Vo(t,this._c):[].concat(r),i],s=o[0],l=o.reduce((u,c)=>{const f=Wr(t,c,n);return u.top=$e(f.top,u.top),u.right=De(f.right,u.right),u.bottom=De(f.bottom,u.bottom),u.left=$e(f.left,u.left),u},Wr(t,s,n));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ko(e){const{width:t,height:r}=Vn(e);return{width:t,height:r}}function $o(e,t,r){const i=ve(t),n=be(t),a=r==="fixed",o=_e(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l=Oe(0);if(i||!i&&!a)if((He(t)!=="body"||ot(n))&&(s=St(t)),i){const f=_e(t,!0,a,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else n&&(l.x=kn(n));const u=o.left+s.scrollLeft-l.x,c=o.top+s.scrollTop-l.y;return{x:u,y:c,width:o.width,height:o.height}}function _t(e){return de(e).position==="static"}function Ur(e,t){return!ve(e)||de(e).position==="fixed"?null:t?t(e):e.offsetParent}function Mn(e,t){const r=ae(e);if(br(e))return r;if(!ve(e)){let n=Re(e);for(;n&&!We(n);){if(he(n)&&!_t(n))return n;n=Re(n)}return r}let i=Ur(e,t);for(;i&&bo(i)&&_t(i);)i=Ur(i,t);return i&&We(i)&&_t(i)&&!vr(i)?r:i||wo(e)||r}const Mo=async function(e){const t=this.getOffsetParent||Mn,r=this.getDimensions,i=await r(e.floating);return{reference:$o(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function _o(e){return de(e).direction==="rtl"}const jo={convertOffsetParentRelativeRectToViewportRelativeRect:Oo,getDocumentElement:be,getClippingRect:So,getOffsetParent:Mn,getElementRects:Mo,getClientRects:Po,getDimensions:ko,getScale:Te,isElement:he,isRTL:_o};function No(e,t){let r=null,i;const n=be(e);function a(){var s;clearTimeout(i),(s=r)==null||s.disconnect(),r=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const{left:u,top:c,width:f,height:m}=e.getBoundingClientRect();if(s||t(),!f||!m)return;const y=ut(c),v=ut(n.clientWidth-(u+f)),d=ut(n.clientHeight-(c+m)),h=ut(u),w={rootMargin:-y+"px "+-v+"px "+-d+"px "+-h+"px",threshold:$e(0,De(1,l))||1};let p=!0;function F(O){const C=O[0].intersectionRatio;if(C!==l){if(!p)return o();C?o(!1,C):i=setTimeout(()=>{o(!1,1e-7)},1e3)}p=!1}try{r=new IntersectionObserver(F,{...w,root:n.ownerDocument})}catch{r=new IntersectionObserver(F,w)}r.observe(e)}return o(!0),a}function Lo(e,t,r,i){i===void 0&&(i={});const{ancestorScroll:n=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,u=yr(e),c=n||a?[...u?tt(u):[],...tt(t)]:[];c.forEach(g=>{n&&g.addEventListener("scroll",r,{passive:!0}),a&&g.addEventListener("resize",r)});const f=u&&s?No(u,r):null;let m=-1,y=null;o&&(y=new ResizeObserver(g=>{let[w]=g;w&&w.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var p;(p=y)==null||p.observe(t)})),r()}),u&&!l&&y.observe(u),y.observe(t));let v,d=l?_e(e):null;l&&h();function h(){const g=_e(e);d&&(g.x!==d.x||g.y!==d.y||g.width!==d.width||g.height!==d.height)&&r(),d=g,v=requestAnimationFrame(h)}return r(),()=>{var g;c.forEach(w=>{n&&w.removeEventListener("scroll",r),a&&w.removeEventListener("resize",r)}),f==null||f(),(g=y)==null||g.disconnect(),y=null,l&&cancelAnimationFrame(v)}}const To=vo,Io=po,qo=go,Do=mo,Wo=fo,Uo=yo,Ho=(e,t,r)=>{const i=new Map,n={platform:jo,...r},a={...n.platform,_c:i};return co(e,t,{...n,platform:a})};class Bo extends R.Component{constructor(){super(...arguments),this.element=null}componentDidMount(){this.componentDidUpdate()}componentDidUpdate(){const t=Tn.findDOMNode(this);t instanceof Element?this.element=t:this.element=null}render(){return R.Children.only(this.props.children)}}const zo={topLeft:"top-start",topRight:"top-end",bottomLeft:"bottom-start",bottomRight:"bottom-end",leftTop:"left-start",leftBottom:"left-end",rightTop:"right-start",rightBottom:"right-end"};function Ko(e){var t;return(t=zo[e])!==null&&t!==void 0?t:e}let Le=null,Ie=null;qn&&(Le=document.createElement("div"),Le.className="adm-px-tester",Le.style.setProperty("--size","10"),document.body.appendChild(Le),Ie=document.createElement("div"),Ie.className="adm-px-tester",document.body.appendChild(Ie));function jt(e){return Le===null||Ie===null||Le.getBoundingClientRect().height===10?e:(Ie.style.setProperty("--size",e.toString()),Ie.getBoundingClientRect().height)}const Ve="adm-popover",Go={placement:"top",defaultVisible:!1,stopPropagation:["click"],getContainer:()=>document.body,mode:"light"},_n=P.forwardRef((e,t)=>{const r=zr(Go,e),i=Ko(r.placement),[n,a]=Un({value:r.visible,defaultValue:r.defaultVisible,onChange:r.onVisibleChange});P.useImperativeHandle(t,()=>({show:()=>a(!0),hide:()=>a(!1),visible:n}),[n]);const o=P.useRef(null),s=P.useRef(null),l=P.useRef(null),u=Bn(r.stopPropagation,pt(r,R.createElement("div",{className:Ee(Ve,`${Ve}-${r.mode}`,{[`${Ve}-hidden`]:!n}),ref:s},R.createElement("div",{className:`${Ve}-arrow`,ref:l},R.createElement(to,{className:`${Ve}-arrow-icon`})),R.createElement("div",{className:`${Ve}-inner`},R.createElement("div",{className:`${Ve}-inner-content`},r.content))))),[c,f]=P.useState(null);function m(){var v,d,h;return Dn(this,void 0,void 0,function*(){const g=(d=(v=o.current)===null||v===void 0?void 0:v.element)!==null&&d!==void 0?d:null,w=s.current,p=l.current;if(f(g),!g||!w||!p)return;const{x:F,y:O,placement:C,middlewareData:A}=yield Ho(g,w,{placement:i,middleware:[To(jt(12)),Io({padding:jt(4),crossAxis:!1,limiter:Uo()}),qo(),Do(),Wo({element:p,padding:jt(12)})]});Object.assign(w.style,{left:`${F}px`,top:`${O}px`});const V=C.split("-")[0],$={top:"bottom",right:"left",bottom:"top",left:"right"}[V],{x:N,y:K}=(h=A.arrow)!==null&&h!==void 0?h:{};Object.assign(p.style,{left:N!=null?`${N}px`:"",top:K!=null?`${K}px`:"",right:"",bottom:"",[$]:"calc(var(--arrow-size) * -1)"});const _={top:"0deg",bottom:"180deg",left:"270deg",right:"90deg"}[V];p.style.setProperty("--arrow-icon-rotate",_)})}zn(()=>{m()}),P.useEffect(()=>{if(!c||!r.trigger)return;function v(){a(d=>!d)}return c.addEventListener("click",v),()=>{c.removeEventListener("click",v)}},[c,r.trigger]),P.useEffect(()=>{const v=s.current;if(!(!c||!v))return Lo(c,v,m,{elementResize:typeof ResizeObserver<"u"})},[c]),ui(()=>{r.trigger&&a(!1)},[()=>{var v;return(v=o.current)===null||v===void 0?void 0:v.element},s],["click","touchmove"]);const y=Kn(n,!1,r.destroyOnHide);return R.createElement(R.Fragment,null,R.createElement(Bo,{ref:o},r.children),y&&Gn(r.getContainer,u))}),we="adm-popover-menu",Yo=P.forwardRef((e,t)=>{const r=P.useRef(null);P.useImperativeHandle(t,()=>r.current,[]);const i=P.useCallback(a=>{var o;const{onAction:s}=e;s&&s(a),(o=r.current)===null||o===void 0||o.hide()},[e.onAction]),n=P.useMemo(()=>{const a=(e==null?void 0:e.maxCount)&&e.actions.length>(e==null?void 0:e.maxCount),o=(e==null?void 0:e.maxCount)&&(e==null?void 0:e.maxCount)*48;return R.createElement("div",{className:`${we}-list`},R.createElement("div",{className:Ee(`${we}-list-inner`,{[`${we}-list-scroll`]:a}),style:{height:o}},e.actions.map((s,l)=>{var u;return R.createElement("a",{key:(u=s.key)!==null&&u!==void 0?u:l,className:Ee(`${we}-item`,"adm-plain-anchor",{[`${we}-item-disabled`]:s.disabled}),onClick:()=>{var c;s.disabled||(i(s),(c=s.onClick)===null||c===void 0||c.call(s))}},s.icon&&R.createElement("div",{className:`${we}-item-icon`},s.icon),R.createElement("div",{className:`${we}-item-text`},s.text))})))},[e.actions,i]);return R.createElement(_n,Object.assign({ref:r},e,{className:Ee(we,e.className),content:n}),e.children)}),Zo=Yr(_n,{Menu:Yo});function Jo(...e){let t;for(t=0;t<e.length&&e[t]===void 0;t++);return e[t]}const Xo="__SPLIT__",te="adm-form-item",Qo=R.memo(({children:e})=>e,(e,t)=>e.value===t.value&&e.update===t.update),es=e=>{var t;const{style:r,extra:i,label:n,help:a,required:o,children:s,htmlFor:l,hidden:u,arrow:c,childElementPosition:f="normal"}=e,m=P.useContext(fr),{locale:y}=Gr(),v=e.hasFeedback!==void 0?e.hasFeedback:m.hasFeedback,d=e.layout||m.layout,h=(t=e.disabled)!==null&&t!==void 0?t:m.disabled,g=(()=>{const{requiredMarkStyle:F}=m;switch(F){case"asterisk":return o&&R.createElement("span",{className:`${te}-required-asterisk`},"*");case"text-required":return o&&R.createElement("span",{className:`${te}-required-text`},"(",y.Form.required,")");case"text-optional":return!o&&R.createElement("span",{className:`${te}-required-text`},"(",y.Form.optional,")");case"none":return null;default:return null}})(),w=!!n&&R.createElement("label",{className:`${te}-label`,htmlFor:l},n,g,a&&R.createElement(Zo,{content:a,mode:"dark",trigger:"click"},R.createElement("span",{className:`${te}-label-help`,onClick:F=>{F.stopPropagation(),F.preventDefault()}},R.createElement(ci,null)))),p=(!!e.description||v)&&R.createElement(R.Fragment,null,e.description,v&&R.createElement(R.Fragment,null,e.errors.map((F,O)=>R.createElement("div",{key:`error-${O}`,className:`${te}-feedback-error`},F)),e.warnings.map((F,O)=>R.createElement("div",{key:`warning-${O}`,className:`${te}-feedback-warning`},F))));return pt(e,R.createElement(Ke.Item,{style:r,title:d==="vertical"&&w,prefix:d==="horizontal"&&w,extra:i,description:p,className:Ee(te,`${te}-${d}`,{[`${te}-hidden`]:u,[`${te}-has-error`]:e.errors.length}),disabled:h,onClick:e.onClick,clickable:e.clickable,arrow:c},R.createElement("div",{className:Ee(`${te}-child`,`${te}-child-position-${f}`)},R.createElement("div",{className:Ee(`${te}-child-inner`)},s))))},ts=e=>{const{style:t,label:r,help:i,extra:n,hasFeedback:a,name:o,required:s,noStyle:l,hidden:u,layout:c,childElementPosition:f,description:m,disabled:y,rules:v,children:d,messageVariables:h,trigger:g="onChange",validateTrigger:w=g,onClick:p,shouldUpdate:F,dependencies:O,clickable:C,arrow:A}=e,V=Kr(e,["style","label","help","extra","hasFeedback","name","required","noStyle","hidden","layout","childElementPosition","description","disabled","rules","children","messageVariables","trigger","validateTrigger","onClick","shouldUpdate","dependencies","clickable","arrow"]),{name:$}=P.useContext(fr),{validateTrigger:N}=P.useContext(On),K=Jo(w,N,g),_=P.useRef(null),W=P.useRef(0);W.current+=1;const[L,G]=P.useState({}),x=P.useCallback((j,q)=>{G(H=>{const Y=Object.assign({},H),Q=q.join(Xo);return j.destroy?delete Y[Q]:Y[Q]=j,Y})},[G]);function b(j,q,H,Y){var Q,ee;if(l&&!u)return j;const st=(Q=H==null?void 0:H.errors)!==null&&Q!==void 0?Q:[],ue=Object.keys(L).reduce((X,Ae)=>{var ge,ce;const Be=(ce=(ge=L[Ae])===null||ge===void 0?void 0:ge.errors)!==null&&ce!==void 0?ce:[];return Be.length&&(X=[...X,...Be]),X},st),wr=(ee=H==null?void 0:H.warnings)!==null&&ee!==void 0?ee:[],pe=Object.keys(L).reduce((X,Ae)=>{var ge,ce;const Be=(ce=(ge=L[Ae])===null||ge===void 0?void 0:ge.warnings)!==null&&ce!==void 0?ce:[];return Be.length&&(X=[...X,...Be]),X},wr);return pt(e,R.createElement(es,{style:t,label:r,extra:n,help:i,description:m,required:Y,disabled:y,hasFeedback:a,htmlFor:q,errors:ue,warnings:pe,onClick:p&&(X=>p(X,_)),hidden:u,layout:c,childElementPosition:f,clickable:C,arrow:A},R.createElement(jr.Provider,{value:x},j)))}const E=typeof d=="function";if(!o&&!E&&!e.dependencies)return b(d);let S={};S.label=typeof r=="string"?r:"",h&&(S=Object.assign(Object.assign({},S),h));const M=P.useContext(jr),k=j=>{if(l&&M){const q=j.name;M(j,q)}};return R.createElement(lr,Object.assign({},V,{name:o,shouldUpdate:F,dependencies:O,rules:v,trigger:g,validateTrigger:K,onMetaChange:k,messageVariables:S}),(j,q,H)=>{let Y=null;const Q=s!==void 0?s:v&&v.some(ue=>!!(ue&&typeof ue=="object"&&ue.required)),ee=Mt(o).length&&q?q.name:[],st=(ee.length>0&&$?[$,...ee]:ee).join("_");if(E)(F||O)&&!o&&(Y=d(H));else if(!(O&&!o))if(R.isValidElement(d)){d.props.defaultValue;const ue=Object.assign(Object.assign({},d.props),j);Pn(d)&&(ue.ref=pe=>{const X=d.ref;X&&(typeof X=="function"&&X(pe),"current"in X&&(X.current=pe)),_.current=pe}),ue.id||(ue.id=st),new Set([...Mt(g),...Mt(K)]).forEach(pe=>{ue[pe]=(...X)=>{var Ae,ge,ce;(Ae=j[pe])===null||Ae===void 0||Ae.call(j,...X),(ce=(ge=d.props)[pe])===null||ce===void 0||ce.call(ge,...X)}}),Y=R.createElement(Qo,{value:j[e.valuePropName||"value"],update:W.current},R.cloneElement(d,ue))}else Y=d;return b(Y,st,q,Q)})},rs=e=>{const t=Hn(),r=P.useContext(Me),i=r.getFieldsValue(e.to),n=R.useMemo(()=>e.children(i,r),[JSON.stringify(i),e.children]);return R.createElement(R.Fragment,null,n,e.to.map(a=>R.createElement(ns,{key:a.toString(),form:r,namePath:a,onChange:t})))},ns=P.memo(e=>{const t=cr(e.namePath,e.form);return Yn(()=>{e.onChange()},[t]),null}),Nt=Yr(Da,{Item:ts,Subscribe:rs,Header:mn,Array:vn,useForm:ur,useWatch:cr}),is=(e,t)=>{if(!t||!e)return{};const r={};return t.forEach(i=>{ii.isUndefined(e[i.name])||(r[i.name]=e[i.name])}),r},ws=()=>{const e=In(),t=ti(),r=ri(),[i]=Nt.useForm(),n=ni(),[a]=P.useState(is(t,r));return me.jsxs(me.Fragment,{children:[me.jsx(ei,{position:"top",style:{background:"#f2f2f7"}}),me.jsx(Qn,{style:{backgroundColor:"#f2f2f7"},onBack:()=>{const o=i.getFieldsValue();n(s=>s?Object.keys(o).reduce((u,c)=>(u[c]=o[c]||"",u),{}):{}),e(-1)},children:"键值映射"}),me.jsx("div",{style:{paddingBottom:48},children:me.jsx(Nt,{form:i,initialValues:a,layout:"horizontal",mode:"card",style:{textAlign:"left"},children:r==null?void 0:r.map(o=>me.jsx("div",{children:me.jsx(Nt.Item,{label:me.jsx(ai,{name:o.name,isFormatable:!1}),name:o.name,children:me.jsx(Zn,{placeholder:"请输入值映射",clearable:!0})})},o.aKey))})})]})};export{ws as KVConfig};
