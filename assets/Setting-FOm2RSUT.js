import{r,R as n,u as w,j as t}from"./index-BKYHviBL.js";import{u as x}from"./index-wziMPack.js";import{a as k,c as E}from"./utils-CSvAkENd.js";import{w as p,m as v,c as j}from"./with-default-props-Cw5r2lmh.js";import{L as i}from"./index-B-AKXKOT.js";import{N as b}from"./nav-bar-CN-jShyS.js";import{_ as y}from"./index-DlGwl23E.js";import{u as N}from"./use-props-value-B6YOK46Q.js";import{i as F}from"./validate-DifivnA4.js";import{u as S}from"./config-provider-C3XxMxLT.js";import{T as f}from"./index-g1DRo9VM.js";import{b as O,a as P}from"./context-CvGcWdEt.js";import"./attach-properties-to-component-CxYBDbn1.js";import"./spin-loading-DFI-ZVyh.js";import"./react-spring-web.esm-DtOvouu1.js";import"./should-render-DhzTJ4TY.js";import"./with-stop-propagation-ChvrdJ6D.js";import"./auto-center-DenqAhi6.js";function R(a){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},a,{style:Object.assign({verticalAlign:"-0.125em"},a.style),className:["antd-mobile-icon",a.className].filter(Boolean).join(" ")}),r.createElement("g",{id:"DownlandOutline-DownlandOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"DownlandOutline-编组"},r.createElement("rect",{id:"DownlandOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),r.createElement("path",{d:"M13.5,4.4 L13.5,6.6 C13.5,6.8209139 13.3209139,7 13.1,7 L10,7 L10,7 C8.40231912,7 7.09633912,8.24891996 7.00509269,9.82372721 L7,10 L7,38 C7,39.5976809 8.24891996,40.9036609 9.82372721,40.9949073 L10,41 L38,41 C39.5976809,41 40.9036609,39.75108 40.9949073,38.1762728 L41,38 L41,10 C41,8.40231912 39.75108,7.09633912 38.1762728,7.00509269 L38,7 L35.9,7 C35.6790861,7 35.5,6.8209139 35.5,6.6 L35.5,4.4 C35.5,4.1790861 35.6790861,4 35.9,4 L38,4 L38,4 C41.3137085,4 44,6.6862915 44,10 L44,38 C44,41.3137085 41.3137085,44 38,44 L10,44 C6.6862915,44 4,41.3137085 4,38 L4,10 C4,6.6862915 6.6862915,4 10,4 L13.1,4 C13.3209139,4 13.5,4.1790861 13.5,4.4 Z M25.9999942,4.4 L25.9996797,26.04 L25.9996797,26.04 L33.9551425,18.7714481 C33.9637608,18.763574 33.9770552,18.7638966 33.9852814,18.7721797 C33.994709,18.7816725 34,18.7945085 34,18.8078873 L34,22.6126929 C34,22.7250175 33.9527723,22.8321661 33.8698618,22.9079464 L25.5925692,30.4733951 L25.5925692,30.4733951 C25.2794059,30.7595769 24.8804299,30.8955827 24.4857797,30.8834403 C24.0908085,30.8958129 23.691422,30.7598192 23.3779936,30.4733951 L15.1301592,22.9359486 C15.047236,22.8601675 15,22.7530104 15,22.6406759 L15,19.6653642 C15,19.4444503 15.1790861,19.2653642 15.4,19.2653642 C15.4998604,19.2653642 15.5961093,19.3027166 15.6698274,19.3700793 L22.9996797,26.068 L22.9996797,26.068 L22.9999942,4.4 C23.0000032,4.17908837 23.1790884,4.00000581 23.4,4 L25.6,4 C25.8209139,3.99999419 26,4.17908029 26,4.39999419 C26,4.39999612 26,4.39999806 25.9999942,4.4 Z",id:"DownlandOutline-形状",fill:"currentColor",fillRule:"nonzero"}))))}const M=r.memo(a=>p(a,n.createElement("svg",{width:"28px",height:"28px",viewBox:"0 0 28 28"},n.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.createElement("g",{transform:"translate(-137.000000, -840.000000)",fill:"#1576FE"},n.createElement("g",{transform:"translate(80.000000, 823.000000)"},n.createElement("g",{transform:"translate(53.000000, 13.000000)"},n.createElement("path",{d:"M17.9996753,31.5 C10.5556724,31.5 4.5,25.4443275 4.5,18.0003247 C4.5,10.5563219 10.5556724,4.5 17.9996753,4.5 C18.5355492,4.5 18.9702974,4.93474816 18.9702974,5.47062208 C18.9702974,6.006496 18.5355492,6.44124416 17.9996753,6.44124416 C11.6261524,6.44124416 6.44124416,11.6267709 6.44124416,18.0002938 C6.44124416,24.3738167 11.6261524,29.5587249 17.9996753,29.5587249 C24.3731982,29.5587249 29.5587249,24.3738167 29.5587249,18.0002938 C29.5587249,14.7964616 28.2778291,11.8169616 25.9523687,9.61220279 C25.5637302,9.24317094 25.5473089,8.62893223 25.9157222,8.23967523 C26.2841356,7.84976878 26.8989928,7.83461537 27.2882498,8.20302872 C30.0042351,10.7787368 31.5,14.2580826 31.5,18.0002938 C31.5,25.4443275 25.4436781,31.5 17.9996753,31.5 Z"})))))))),l="adm-switch",D={defaultChecked:!1},I=a=>{const e=v(D,a),c=e.disabled||e.loading||!1,[m,o]=r.useState(!1),{locale:h}=S(),[s,d]=N({value:e.checked,defaultValue:e.defaultChecked,onChange:e.onChange});function L(){return y(this,void 0,void 0,function*(){if(c||e.loading||m)return;const u=!s;if(e.beforeChange){o(!0);try{yield e.beforeChange(u),o(!1)}catch(C){throw o(!1),C}}const g=d(u);if(F(g)){o(!0);try{yield g,o(!1)}catch(C){throw o(!1),C}}})}return p(e,n.createElement("div",{onClick:L,className:j(l,{[`${l}-checked`]:s,[`${l}-disabled`]:c||m}),role:"switch","aria-label":h.Switch.name,"aria-checked":s,"aria-disabled":c},n.createElement("div",{className:`${l}-checkbox`},n.createElement("div",{className:`${l}-handle`},(e.loading||m)&&n.createElement(M,{className:`${l}-spin-icon`})),n.createElement("div",{className:`${l}-inner`},s?e.checkedText:e.uncheckedText))))},ee=()=>{const a=w(),{showMode:e,setShowMode:c}=x(),m=O(),o=P(),h=r.useMemo(()=>k(),[]);return t.jsxs(t.Fragment,{children:[t.jsx(b,{style:{backgroundColor:"#f2f2f7",fontWeight:500},back:null,children:"设置"}),t.jsxs(i,{mode:"card",style:{textAlign:"left"},children:[t.jsx(i.Item,{onClick:()=>{a({pathname:"/kv-config"})},children:"键值映射"}),t.jsx(i.Item,{extra:t.jsx(I,{checked:e,onChange:c}),children:"展示模式"})]}),t.jsxs(i,{mode:"card",style:{textAlign:"left"},children:[t.jsx(i.Item,{onClick:()=>{a({pathname:"/import-data"})},children:"导入数据"}),t.jsx(i.Item,{onClick:()=>{const s=JSON.stringify({recordList:m,actionList:o});try{E(s).then(()=>{f.show({content:"复制成功"})}).catch(d=>{f.show({content:d})})}catch(d){f.show({content:String(d)+"data"+s})}},arrow:t.jsx(R,{}),children:"导出数据"}),t.jsx(i.Item,{onClick:()=>{},arrow:!1,extra:h,children:"本地存储比例"})]})]})};export{ee as Setting};
