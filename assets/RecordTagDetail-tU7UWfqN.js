import{r as e,u as h,b as j,j as t}from"./index-C_UHGJlV.js";import"./with-default-props-BmUU8plZ.js";import{B as L}from"./button-KzJBAVMH.js";import{C as w}from"./card-baXAEpy5.js";import{N as u}from"./nav-bar-B6I3cWZY.js";import{S as p}from"./safe-area-CBXG4b09.js";import{b as y}from"./context-CHFXciok.js";import{A as v}from"./ActionNameTag-DZVzRZa4.js";import{T as k}from"./TagDetailPopover-BO1gUZgW.js";import{b as F}from"./utils-bhuKeDjx.js";import{R as M}from"./RecordTagAction-D0N_L902.js";import"./index-Bd-V8bsQ.js";import"./validate-BWrBp5BA.js";import"./index-BSnmSG8-.js";import"./tag-0bBjTb6U.js";import"./index-C-Y4SDDD.js";import"./attach-properties-to-component-CxYBDbn1.js";import"./use-props-value-Cy7HmYQB.js";import"./with-stop-propagation-DAJ1rTaH.js";import"./should-render-pC6EtMPP.js";import"./index-CjZyqMMv.js";import"./index-DAsywVIn.js";import"./use-isomorphic-update-layout-effect-BmelbheG.js";import"./space-DZXRz-Pd.js";import"./auto-center-Bm1bJHZc.js";import"./spin-loading-BErI0OSI.js";import"./react-spring-web.esm-B9-Uweta.js";import"./config-provider-CHdY5msv.js";import"./use-inner-visible-DND8bHfP.js";import"./input-0KkBGOlC.js";import"./bound-sRU-RDN8.js";import"./useInputHandleKeyDown-8zIOh0RG.js";import"./index-CHEA9oqw.js";import"./use-gesture-react.esm-DX7HS86-.js";import"./swipe-action-UHCNBsqT.js";import"./hooks-ld4a9x-g.js";function f(i){return e.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},i,{style:Object.assign({verticalAlign:"-0.125em"},i.style),className:["antd-mobile-icon",i.className].filter(Boolean).join(" ")}),e.createElement("g",{id:"ContentOutline-ContentOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},e.createElement("g",{id:"ContentOutline-编组"},e.createElement("rect",{id:"ContentOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),e.createElement("path",{d:"M18.627907,6 L18.8394678,6.00378739 C20.724163,6.07094117 22.7022235,7.02609453 24.0009305,8.46795145 C25.2977765,7.02609453 27.275837,6.07094117 29.1605322,6.00378739 L29.372093,6 L39.1395349,6 C42.3026203,6 44.8804189,8.56557489 44.9959578,11.7750617 L45,12 L45,34 C45,37.2383969 42.4940896,39.8775718 39.359242,39.9958615 L39.1395349,40 L28.1436109,40.0006895 C27.1582748,41.2217963 25.6679035,42 24,42 C22.3320965,42 20.8417252,41.2217963 19.8563891,40.0006895 L8.86046512,40 L8.64075798,39.9958615 C5.57881379,39.8803227 3.11689412,37.3597859 3.00404223,34.2249383 L3,34 L3,12 L3.00404223,11.7750617 C3.11689412,8.64021412 5.57881379,6.11967731 8.64075798,6.00413847 L8.86046512,6 L18.627907,6 Z M21.6070926,37.0005393 C21.8335444,38.1413907 22.8188346,39 24,39 C25.1811654,39 26.1664556,38.1413907 26.3929074,37.0005393 L39.1395349,37 L39.3117083,36.9949073 C40.7929224,36.9070404 41.9789697,35.6927538 42.0647932,34.1762728 L42.0697674,34 L42.0697674,12 L42.0647932,11.8237272 C41.9789697,10.3072462 40.7929224,9.09295962 39.3117083,9.00509269 L39.1395349,9 L29.372093,9 L29.1999196,9.00509269 C27.7147766,9.09319269 25.6158244,10.3136959 25.472835,11.8358011 L25.4651163,12 L25.4651163,31.6 C25.4651163,31.8209139 25.2860302,32 25.0651163,32 L22.9348837,32 C22.7139698,32 22.5348837,31.8209139 22.5348837,31.6 L22.5348837,12 L22.5348837,12 L22.527165,11.8358011 C22.3892824,10.3680568 20.4326537,9.18075619 18.9614346,9.01882731 L18.8000804,9.00509269 L18.627907,9 L8.86046512,9 L8.6882917,9.00509269 C7.26632621,9.08944495 6.11638638,10.2119055 5.95073519,11.6432528 L5.93520682,11.8237272 L5.93023256,12 L5.93023256,34 L5.93520682,34.1762728 C6.01759739,35.6320946 7.11395422,36.8094139 8.51201433,36.9790092 L8.6882917,36.9949073 L8.86046512,37 L21.6070926,37.0005393 Z M18.627907,24.4 L18.627907,26.6 C18.627907,26.8209139 18.4488209,27 18.227907,27 L9.26046512,27 C9.03955122,27 8.86046512,26.8209139 8.86046512,26.6 L8.86046512,24.4 C8.86046512,24.1790861 9.03955122,24 9.26046512,24 L18.227907,24 C18.4488209,24 18.627907,24.1790861 18.627907,24.4 Z M39.1395349,24.4 L39.1395349,26.6 C39.1395349,26.8209139 38.9604488,27 38.7395349,27 L28.7953488,27 C28.5744349,27 28.3953488,26.8209139 28.3953488,26.6 L28.3953488,24.4 C28.3953488,24.1790861 28.5744349,24 28.7953488,24 L38.7395349,24 C38.9604488,24 39.1395349,24.1790861 39.1395349,24.4 Z M18.627907,18.4 L18.627907,20.6 C18.627907,20.8209139 18.4488209,21 18.227907,21 L9.26046512,21 C9.03955122,21 8.86046512,20.8209139 8.86046512,20.6 L8.86046512,18.4 C8.86046512,18.1790861 9.03955122,18 9.26046512,18 L18.227907,18 C18.4488209,18 18.627907,18.1790861 18.627907,18.4 Z M39.1395349,18.4 L39.1395349,20.6 C39.1395349,20.8209139 38.9604488,21 38.7395349,21 L28.7953488,21 C28.5744349,21 28.3953488,20.8209139 28.3953488,20.6 L28.3953488,18.4 C28.3953488,18.1790861 28.5744349,18 28.7953488,18 L38.7395349,18 C38.9604488,18 39.1395349,18.1790861 39.1395349,18.4 Z",id:"ContentOutline-形状",fill:"currentColor",fillRule:"nonzero"}))))}function g(i){return e.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},i,{style:Object.assign({verticalAlign:"-0.125em"},i.style),className:["antd-mobile-icon",i.className].filter(Boolean).join(" ")}),e.createElement("g",{id:"UnorderedListOutline-UnorderedListOutline",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},e.createElement("g",{id:"UnorderedListOutline-编组"},e.createElement("rect",{id:"UnorderedListOutline-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),e.createElement("path",{d:"M8.5,32 C10.9852814,32 13,34.0147186 13,36.5 C13,38.9852814 10.9852814,41 8.5,41 C6.01471863,41 4,38.9852814 4,36.5 C4,34.0147186 6.01471863,32 8.5,32 Z M8.5,35 C7.67157288,35 7,35.6715729 7,36.5 C7,37.3284271 7.67157288,38 8.5,38 C9.32842712,38 10,37.3284271 10,36.5 C10,35.6715729 9.32842712,35 8.5,35 Z M43.6,35 C43.8209139,35 44,35.1790861 44,35.4 L44,37.6 C44,37.8209139 43.8209139,38 43.6,38 L16.4,38 C16.1790861,38 16,37.8209139 16,37.6 L16,35.4 C16,35.1790861 16.1790861,35 16.4,35 L43.6,35 Z M8.5,19 C10.9852814,19 13,21.0147186 13,23.5 C13,25.9852814 10.9852814,28 8.5,28 C6.01471863,28 4,25.9852814 4,23.5 C4,21.0147186 6.01471863,19 8.5,19 Z M8.5,22 C7.67157288,22 7,22.6715729 7,23.5 C7,24.3284271 7.67157288,25 8.5,25 C9.32842712,25 10,24.3284271 10,23.5 C10,22.6715729 9.32842712,22 8.5,22 Z M43.6,22 C43.8209139,22 44,22.1790861 44,22.4 L44,24.6 C44,24.8209139 43.8209139,25 43.6,25 L16.4,25 C16.1790861,25 16,24.8209139 16,24.6 L16,22.4 C16,22.1790861 16.1790861,22 16.4,22 L43.6,22 Z M8.5,6 C10.9852814,6 13,8.01471863 13,10.5 C13,12.9852814 10.9852814,15 8.5,15 C6.01471863,15 4,12.9852814 4,10.5 C4,8.01471863 6.01471863,6 8.5,6 Z M8.5,9 C7.67157288,9 7,9.67157288 7,10.5 C7,11.3284271 7.67157288,12 8.5,12 C9.32842712,12 10,11.3284271 10,10.5 C10,9.67157288 9.32842712,9 8.5,9 Z M43.6,9 C43.8209139,9 44,9.1790861 44,9.4 L44,11.6 C44,11.8209139 43.8209139,12 43.6,12 L16.4,12 C16.1790861,12 16,11.8209139 16,11.6 L16,9.4 C16,9.1790861 16.1790861,9 16.4,9 L43.6,9 Z",id:"UnorderedListOutline-形状结合",fill:"currentColor",fillRule:"nonzero"}))))}function b({clickItem:i}){const r=F(i);return t.jsx("div",{children:Object.entries(r).map(([n,s])=>t.jsx("div",{style:{backgroundColor:"#f2f2f7",padding:"16px"},children:t.jsx(w,{title:`${String(parseInt(n.split(":")[0],10)-1).padStart(2,"0")}:30-${n}`,bodyStyle:{textAlign:"left"},children:t.jsx(k,{timeList:s.timeList,children:t.jsx(v,{name:i.actionItem.name,count:s.total})})})},n))})}const C2=()=>{const i=h(),r=y(),[n]=j(),[s]=e.useState(n.get("recordKey")||""),[C]=e.useState(Number(n.get("clickItemKey")||"")),[m,c]=e.useState(!0),a=e.useMemo(()=>{var d;const o=(d=r==null?void 0:r.find(l=>l.rKey===s))==null?void 0:d.items.find(l=>l.rKey===C);return o&&o.record.sort((l,x)=>x.time-l.time),o},[C,s,r]);return a?m?t.jsxs(t.Fragment,{children:[t.jsx(p,{position:"top",style:{background:"#f2f2f7"}}),t.jsx(u,{style:{backgroundColor:"#f2f2f7",fontWeight:500},onBack:()=>{i(-1)},right:t.jsx("div",{style:{paddingTop:8},children:t.jsx(L,{fill:"none",onClick:()=>{c(o=>!o)},children:m?t.jsx(f,{fontSize:24}):t.jsx(g,{fontSize:24})})}),children:"行为详情"}),t.jsx(b,{clickItem:a})]}):t.jsxs("div",{children:[t.jsx(p,{position:"top",style:{background:"#f2f2f7"}}),t.jsx(u,{style:{backgroundColor:"#f2f2f7"},onBack:()=>{i(-1)},right:t.jsx("div",{children:t.jsx(L,{fill:"none",onClick:()=>{c(o=>!o)},children:m?t.jsx(f,{fontSize:24}):t.jsx(g,{fontSize:24})})})}),a.record.map(o=>t.jsx("div",{children:t.jsx(M,{time:o.time,desc:o.desc,actionItem:a.actionItem,recordKey:s})},o.time))]}):null};export{C2 as RecordTagDetail};
