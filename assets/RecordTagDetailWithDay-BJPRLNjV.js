import{u,b as d,r as i,j as n}from"./index-DE9JW7L8.js";import"./with-default-props-ZNhL5bow.js";import{C as f,S as m}from"./space-dBnVsSF8.js";import{N as p}from"./nav-bar-pkrgLCdM.js";import{S as l}from"./safe-area-sQA8WHwm.js";import{T as g}from"./tag-C1v5LHLC.js";import{b as h}from"./context-C9UckKB9.js";import"./index-C_OXVGSL.js";import"./index-Dp9DsjWu.js";function x(s){const t=new Date(s);let r=t.getHours();return t.getMinutes()>=30&&r++,`${r.toString().padStart(2,"0")}:30`}function j(s){const t={};return s.record.forEach(r=>{const o=x(r.time);t[o]||(t[o]=0),t[o]++}),t}function y({clickItemList:s}){const t={};return s.forEach(r=>{const o=j(r);Object.entries(o).forEach(([e,a])=>{t[e]||(t[e]=[]),t[e].push({actionItem:r.actionItem.name,count:a})})}),n.jsx("div",{children:Object.entries(t).map(([r,o])=>n.jsx("div",{style:{backgroundColor:"#f2f2f7",padding:"16px"},children:n.jsx(f,{title:`${parseInt(r.split(":")[0],10)-1}:30-${r}`,bodyStyle:{textAlign:"left"},children:n.jsx(m,{children:o.map(e=>n.jsxs(g,{round:!0,color:"primary",style:{fontSize:18,fontWeight:"bold",minWidth:60,paddingTop:4,paddingBottom:4,textAlign:"center"},children:[e.actionItem," + ",e.count]},e.actionItem))})})},r))})}const A=()=>{const s=u(),t=h(),[r]=d(),[o]=i.useState(r.get("recordKey")||""),e=i.useMemo(()=>{var a;return((a=t==null?void 0:t.find(c=>c.rKey===o))==null?void 0:a.items)||[]},[o,t]);return e?n.jsxs(n.Fragment,{children:[n.jsx(l,{position:"top",style:{background:"#f2f2f7"}}),n.jsx(p,{style:{backgroundColor:"#f2f2f7"},onBack:()=>{s(-1)}}),n.jsx(y,{clickItemList:e})]}):null};export{A as RecordTagDetailWithDay};
