import{R as m,r,b as y}from"./index-DuOaQf9c.js";import{f as g,m as x,w,c as L}from"./nav-bar-CP985_7g.js";import{n as E,o as F,p as R}from"./context-T8wnGL0k.js";import{u as S}from"./use-props-value-BxvqnOsl.js";const u="${label}不是一个有效的${type}",k={locale:"zh-CH",common:{confirm:"确定",cancel:"取消",loading:"加载中",close:"关闭"},Calendar:{title:"日期选择",confirm:"确认",start:"开始",end:"结束",today:"今日",markItems:["一","二","三","四","五","六","日"],yearAndMonth:"${year}年${month}月"},Cascader:{placeholder:"请选择"},Dialog:{ok:"我知道了"},DatePicker:{tillNow:"至今"},ErrorBlock:{default:{title:"页面遇到一些小问题",description:"待会来试试"},busy:{title:"前方拥堵",description:"刷新试试"},disconnected:{title:"网络有点忙",description:"动动手指帮忙修复"},empty:{title:"没有找到你需要的东西",description:"找找其他的吧"}},Form:{required:"必填",optional:"选填",defaultValidateMessages:{default:"字段验证错误${label}",required:"请输入${label}",enum:"${label}必须是其中一个[${enum}]",whitespace:"${label}不能为空字符",date:{format:"${label}日期格式无效",parse:"${label}不能转换为日期",invalid:"${label}是一个无效日期"},types:{string:u,method:u,array:u,object:u,number:u,date:u,boolean:u,integer:u,float:u,regexp:u,email:u,url:u,hex:u},string:{len:"${label}须为${len}个字符",min:"${label}最少${min}个字符",max:"${label}最多${max}个字符",range:"${label}须在${min}-${max}字符之间"},number:{len:"${label}必须等于${len}",min:"${label}最小值为${min}",max:"${label}最大值为${max}",range:"${label}须在${min}-${max}之间"},array:{len:"须为${len}个${label}",min:"最少${min}个${label}",max:"最多${max}个${label}",range:"${label}数量须在${min}-${max}之间"},pattern:{mismatch:"${label}与模式不匹配${pattern}"}}},ImageUploader:{uploading:"上传中...",upload:"上传"},InfiniteScroll:{noMore:"没有更多了",failedToLoad:"加载失败",retry:"重新加载"},Input:{clear:"清除"},Mask:{name:"背景蒙层"},Modal:{ok:"我知道了"},PasscodeInput:{name:"密码输入框"},PullToRefresh:{pulling:"下拉刷新",canRelease:"释放立即刷新",complete:"刷新成功"},SearchBar:{name:"搜索框"},Slider:{name:"滑动输入条"},Stepper:{decrease:"减少",increase:"增加"},Switch:{name:"开关"},Selector:{name:"选择组"}},I={current:{locale:k}};function P(){return I.current}const M=m.createContext(null);function N(){var t;return(t=r.useContext(M))!==null&&t!==void 0?t:P()}var C=E?r.useLayoutEffect:r.useEffect;function _(t){return(typeof t=="function"?t():t)||document.body}function W(t,a){if(g&&t){const e=_(t);return y.createPortal(a,e)}return a}function D(t){const a=r.useRef(t);return t&&(a.current=!0),!!a.current}const q=t=>z(t.active,t.forceRender,t.destroyOnClose)?t.children:null;function z(t,a,e){const o=D(t);return a||t?!0:o?!e:!1}const B={click:"onClick",touchstart:"onTouchStart"};function Z(t,a){const e=Object.assign({},a.props);for(const o of t){const s=B[o];e[s]=function(i){var f,c;i.stopPropagation(),(c=(f=a.props)[s])===null||c===void 0||c.call(f,i)}}return m.cloneElement(a,e)}function K(t){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},t,{style:Object.assign({verticalAlign:"-0.125em"},t.style),className:["antd-mobile-icon",t.className].filter(Boolean).join(" ")}),r.createElement("g",{id:"CloseCircleFill-CloseCircleFill",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"CloseCircleFill-编组"},r.createElement("rect",{id:"CloseCircleFill-矩形",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),r.createElement("path",{d:"M24,2 C36.1502645,2 46,11.8497355 46,24 C46,36.1502645 36.1502645,46 24,46 C11.8497355,46 2,36.1502645 2,24 C2,11.8497355 11.8497355,2 24,2 Z M18.6753876,16 L15.5637812,16 C15.4576916,16 15.3559474,16.0421451 15.2809323,16.1171635 C15.124726,16.2733766 15.1247316,16.5266426 15.2809447,16.6828489 L15.2809447,16.6828489 L22.299066,23.7006641 L14.6828159,31.3171619 C14.6078042,31.3921761 14.5656632,31.4939157 14.5656632,31.6 C14.5656632,31.8209139 14.7447493,32 14.9656632,32 L14.9656632,32 L18.0753284,32 C18.1814068,32 18.2831412,31.9578638 18.3581544,31.8828594 L18.3581544,31.8828594 L24.420066,25.8216641 L30.4818451,31.8828564 C30.5568585,31.9578626 30.6585942,32 30.7646741,32 L30.7646741,32 L33.8763476,32 C33.9824309,32 34.0841695,31.9578599 34.1591835,31.8828496 C34.315397,31.7266436 34.3154031,31.4733776 34.1591972,31.3171641 L34.1591972,31.3171641 L26.542066,23.6996641 L33.5591874,16.6828489 C33.6342057,16.6078338 33.6763508,16.5060896 33.6763508,16.4 C33.6763508,16.1790861 33.4972647,16 33.2763508,16 L33.2763508,16 L30.1637654,16 C30.0576705,16 29.9559218,16.0421493 29.8809058,16.1171741 L29.8809058,16.1171741 L24.420066,21.5786641 L18.9582218,16.1171488 C18.883208,16.0421394 18.7814701,16 18.6753876,16 L18.6753876,16 Z",id:"CloseCircleFill-形状结合",fill:"currentColor",fillRule:"nonzero"}))))}const X=F(C);function O(t,a,e){let o=t;return a!==void 0&&(o=Math.max(t,a)),e!==void 0&&(o=Math.min(o,e)),o}function V({onEnterPress:t,onKeyDown:a,nativeInputRef:e,enterKeyHint:o}){const s=i=>{t&&(i.code==="Enter"||i.keyCode===13)&&t(i),a==null||a(i)};return C(()=>{const i=e.current;if(!(!o||!i))return i.setAttribute("enterkeyhint",o),()=>{i.removeAttribute("enterkeyhint")}},[o]),s}const p="adm-input",H={defaultValue:"",onlyShowClearWhenFocus:!0},G=r.forwardRef((t,a)=>{const e=x(H,t),[o,s]=S(e),[i,f]=r.useState(!1),c=r.useRef(!1),d=r.useRef(null),{locale:v}=N(),b=V({onEnterPress:e.onEnterPress,onKeyDown:e.onKeyDown,nativeInputRef:d,enterKeyHint:e.enterKeyHint});r.useImperativeHandle(a,()=>({clear:()=>{s("")},focus:()=>{var n;(n=d.current)===null||n===void 0||n.focus()},blur:()=>{var n;(n=d.current)===null||n===void 0||n.blur()},get nativeElement(){return d.current}}));function h(){let n=o;if(e.type==="number"){const l=n&&O(parseFloat(n),e.min,e.max).toString();Number(n)!==Number(l)&&(n=l)}n!==o&&s(n)}const $=!e.clearable||!o||e.readOnly?!1:e.onlyShowClearWhenFocus?i:!0;return w(e,m.createElement("div",{className:L(`${p}`,e.disabled&&`${p}-disabled`)},m.createElement("input",{ref:d,className:`${p}-element`,value:o,onChange:n=>{s(n.target.value)},onFocus:n=>{var l;f(!0),(l=e.onFocus)===null||l===void 0||l.call(e,n)},onBlur:n=>{var l;f(!1),h(),(l=e.onBlur)===null||l===void 0||l.call(e,n)},id:e.id,placeholder:e.placeholder,disabled:e.disabled,readOnly:e.readOnly,maxLength:e.maxLength,minLength:e.minLength,max:e.max,min:e.min,autoComplete:e.autoComplete,enterKeyHint:e.enterKeyHint,autoFocus:e.autoFocus,pattern:e.pattern,inputMode:e.inputMode,type:e.type,name:e.name,autoCapitalize:e.autoCapitalize,autoCorrect:e.autoCorrect,onKeyDown:b,onKeyUp:e.onKeyUp,onCompositionStart:n=>{var l;c.current=!0,(l=e.onCompositionStart)===null||l===void 0||l.call(e,n)},onCompositionEnd:n=>{var l;c.current=!1,(l=e.onCompositionEnd)===null||l===void 0||l.call(e,n)},onClick:e.onClick,step:e.step,role:e.role,"aria-valuenow":e["aria-valuenow"],"aria-valuemax":e["aria-valuemax"],"aria-valuemin":e["aria-valuemin"],"aria-label":e["aria-label"]}),$&&m.createElement("div",{className:`${p}-clear`,onMouseDown:n=>{n.preventDefault()},onClick:()=>{var n,l;s(""),(n=e.onClear)===null||n===void 0||n.call(e),R()&&c.current&&(c.current=!1,(l=d.current)===null||l===void 0||l.blur())},"aria-label":v.Input.clear},m.createElement(K,null))))});export{G as I,q as S,C as a,O as b,X as c,z as d,P as g,W as r,N as u,Z as w};
